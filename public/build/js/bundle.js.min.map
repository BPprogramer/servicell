{"version":3,"sources":["reparaciones/accionesReparacion.js","reparaciones/navReparaciones.js","reparaciones/notificaciones.js","reparaciones/reparacion-ingresos.js","reparaciones/reparacion.js","reparaciones/reparaciones.js","cliente/accionesCliente.js","cliente/costosExtras.js","cliente/navCliente.js","cliente/notificacionCliente.js","inicio/inicioDashboard.js","usuarios/login.js","usuarios/usuario.js"],"names":["btnEstadoReparacion","document","querySelector","btnTotalReparacion","btnImprimirReparacion","async","consultarEstado","id","obtenerIdUrl","url","location","origin","respuesta","fetch","resultado","json","estado","classList","add","textContent","remove","dataset","addEventListener","mensaje","Swal","fire","icon","html","showCancelButton","confirmButtonText","cancelButtonText","then","result","isConfirmed","parseInt","datos","FormData","append","cliente_id","body","method","eliminarToastAnterior","type","$","Toasts","class","title","msg","setTimeout","e","cambiarEstado","alertaCambiarEstado","setearEstado","innerHTML","total_pagar","parseFloat","valor_final","abono","costo_final","toLocaleString","setearTotal","btoa","window","open","error","imprimirReparado","setearImpresion","href","urlObj","URL","searchParams","get","general","notificaciones","avanzado","info_general","info_notificaciones","info_avanzado","querySelectorAll","forEach","dNone","btnSubmitNotificacion","agregar_notificacion","formularioNotificaciones","imagenes","contenedorImagenes","idNotificacion","obtenerNotificaciones","tabla","limpiarHtml","tBody","createElement","numero","infoNotificacion","tr","td","div","parrafo","divBtns","btnEditar","style","maxHeight","maxWidth","onclick","llenarFormularioNotificacion","btnEliminar","text","eliminarNotificacion","alertaEliminarNotificacion","carrousel","ride","padding","ol","carrouselInner","i","imagen","li","target","slideTo","carrouselItem","img","src","appendChild","prev","setAttribute","slide","next","ondblclick","contendorCarrouselgrande","carrouselGrande","carrouselGrandeInner","carrouselGrandeItem","modal","mostrarCarrouselModal","mostrarNotificaciones","inicializarValidadorNofiticacion","value","length","image","referencia","firstChild","removeChild","validator","setDefaults","submitHandler","trim","files","disabled","reset","enviarDatosNotifiacion","validate","rules","required","messages","errorElement","errorPlacement","element","addClass","closest","highlight","errorClass","validClass","unhighlight","removeClass","file","reader","FileReader","onload","readAsDataURL","on","event","idIngreso","agregar_ingreso","formularioIngresos","ingreso","descripcion","btnSubmitIngreso","totalIngresosSpan","obtenerIngresos","totalIngresos","reduce","acumulador","infoIngreso","reparacion_id","tdValor","minWidth","tdDescripcion","tdOpciones","llenarFormularioIngreso","ingresoInfo","eliminarIngreso","mostrarIngresos","inicializarValidadorIngreso","enviarDatosIngreso","valor","valor_sin_formato","replace","isNaN","formateraValorIngreso","idCosto","agregar_costo","formularioCostos","costo","btnSubmitCosto","totalCostosSpan","obtenerCostos","totalCostos","infoCosto","llenarFormularioCosto","costoInfo","console","log","eliminarCosto","mostrarCostos","inicializarValidadorCosto","enviarDatosCosto","formateraValorCosto","tablaReparaciones","marcasArray","formulario","nombre","direccion","marca","cedula_nit","celular","modelo","imei_1","imei_2","falla","proceso","valor_convenido","saldo","cargador","bateria","tapa","estuche","sim","sd","observacion","btnRegistrarReparacion","formaterValor","accionesModal","btnSubmit","inicializarValidador","accesorios","JSON","parse","llenarSelect","readOnly","checked","llenarFormulario","consultarReparacion","enviarDatos","checkOBJ","stringify","formatearCheckBox","ajax","reload","digits","minlength","maxlength","optionSeleccionado","marcaCelular","opcion","selected","SIM","SD","dataTable","fnDestroy","DataTable","deferRender","retrieve","proccesing","responsive","initComplete","fn","Buttons","buttons","container","appendTo","currentTarget","reparacionId","cliente","parentElement","childNodes","eliminarReparacion","alertaEliminarReparacion","imprimirReparacion","valor_acordado","valor_acordado_sin_formato","saldo_pendiente","valor_formateado","calcularDiferencia","select2","theme","ingresos","gastos","ganancias","ganancias_mes_actual","ganancias_3_meses","pendientes","reparados","cerrados","ingresos_totales","gastos_totales","imprimirResultados","consultarInfo","email","password","roll","tablaUsuarios","btnRegistrarUsuario","eventosClickEditar","usuarioId","eliminarUsuario","alertaEliminarUsuario","destroy","limpiarSelect","optionDisabledEstado","optionEstado","optionEstado1","optionDisabledRoll","optionRoll","optionRoll1","optionRoll2","consultarUsuario","passwordRules","passwordMsg","terms"],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){\r\n    const btnEstadoReparacion = document.querySelector('#btnEstadoReparacion');\r\n    if(btnEstadoReparacion){\r\n      \r\n        const btnTotalReparacion = document.querySelector('#btnTotalReparacion');\r\n        const btnImprimirReparacion = document.querySelector('#btnImprimirReparacion');\r\n        consultarEstado();\r\n\r\n        async function consultarEstado(){\r\n            const id = obtenerIdUrl();\r\n            const url = `${location.origin}/api/reparacion/estado-actual?id=${id}`;\r\n            \r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n            \r\n                setearEstado(resultado);\r\n                setearTotal(resultado);\r\n                setearImpresion(resultado);\r\n                \r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n        function setearEstado(resultado){\r\n            if(resultado.estado==0){\r\n                btnEstadoReparacion.classList.add('bg-secondary');\r\n                btnEstadoReparacion.textContent = 'Pendiente'\r\n            }\r\n            \r\n            if(resultado.estado==1){\r\n                btnEstadoReparacion.classList.remove('bg-secondary');\r\n                btnEstadoReparacion.classList.add('bg-success');\r\n                btnEstadoReparacion.textContent = 'Reparado'\r\n            }if(resultado.estado==2){\r\n                btnEstadoReparacion.classList.remove('bg-success');\r\n                btnEstadoReparacion.classList.add('bg-danger');\r\n                btnEstadoReparacion.textContent = 'Cerrado'\r\n            }\r\n            btnEstadoReparacion.dataset.estado = resultado.estado;\r\n            if(resultado.estado!=2){\r\n                btnEstadoReparacion.addEventListener('click', function(){\r\n                    alertaCambiarEstado(resultado)\r\n                })\r\n            }\r\n               \r\n         \r\n           \r\n        }\r\n        function alertaCambiarEstado(resultado){\r\n            let mensaje = '';\r\n            if(resultado.estado==0){\r\n                mensaje = `<h2 class=\"\">Acepta estar seguro de dar por  <span class=\"font-weight-bold\"> REPARADO </span> el dispositvo?</h2><br><p>Esta acción no se puede deshacer</p> `\r\n            }\r\n            if(resultado.estado==1){\r\n                mensaje = `<h2 class=\"\">Acepta estar seguro de dar por  <span class=\"font-weight-bold\"> FINALIZADA </span> esta reparación?</h2><br><p>Esta acción no se puede deshacer</p>`\r\n            }\r\n            Swal.fire({\r\n                icon:'warning',\r\n                html: mensaje,\r\n          \r\n                showCancelButton: true,\r\n                confirmButtonText: 'Seguro',\r\n                cancelButtonText: `Cancelar`,\r\n                \r\n\r\n            }).then(result=>{\r\n                if(result.isConfirmed){\r\n                    cambiarEstado(resultado)\r\n                }\r\n            })\r\n        }\r\n        async function cambiarEstado(resultado){\r\n            const estado = parseInt(resultado.estado)+1;\r\n     \r\n            const datos = new FormData();\r\n            datos.append('estado', estado);\r\n            datos.append('reparacion_id', resultado.id)\r\n            datos.append('cliente_id', resultado.cliente_id)\r\n           \r\n            const url = '/api/reparacion/cambiar-estado'\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n              \r\n                eliminarToastAnterior();\r\n            \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },8000)\r\n                    consultarEstado();\r\n                 \r\n                    \r\n                }\r\n            }catch(e){\r\n\r\n            }\r\n            \r\n        }\r\n\r\n        function setearImpresion(resultado){\r\n            \r\n            if(resultado.estado != 0){\r\n           \r\n                btnImprimirReparacion.addEventListener('click',function(){\r\n                    imprimirReparado(resultado.id)\r\n                })\r\n            }\r\n        }\r\n        async function imprimirReparado(id){\r\n          \r\n           \r\n            const url = `/api/factura-finalizada?key=${btoa(id)}`;\r\n            try {\r\n                const respuesta = await fetch(url)\r\n                window.open(url, '_blank');\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n\r\n        function setearTotal(resultado){\r\n            if(resultado.estado==0){\r\n                btnTotalReparacion.innerHTML = `Total: <strong></strong>`\r\n            }else{\r\n                const total_pagar = parseFloat(resultado.valor_final)-parseFloat(resultado.abono)+parseFloat(resultado.costo_final)\r\n                btnTotalReparacion.innerHTML = `Total: <strong>$${(parseFloat(total_pagar)).toLocaleString('en')}</strong>`\r\n            }\r\n            \r\n            \r\n        }\r\n        function obtenerIdUrl(){\r\n         \r\n            const  url = window.location.href;\r\n            const  urlObj = new URL(url);\r\n            return  id = urlObj.searchParams.get(\"id\");\r\n        }\r\n        function eliminarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n          }\r\n    }\r\n})();","(function(){\r\n    const navReparacion = document.querySelector('#navReparacion');\r\n    if(navReparacion){\r\n        const general = document.querySelector('#general');\r\n        const notificaciones = document.querySelector('#notificaciones');\r\n        const avanzado = document.querySelector('#avanzado');\r\n        const info_general = document.querySelector('#info_general');\r\n        const info_notificaciones = document.querySelector('#info_notificaciones');\r\n        const info_avanzado = document.querySelector('#info_avanzado');\r\n\r\n        general.addEventListener('click',()=>{\r\n            const active = document.querySelector('.active-nav');\r\n            active.classList.remove('active-nav')\r\n            general.classList.add('active-nav')\r\n\r\n            const dNones = document.querySelectorAll('.d-none');\r\n            dNones.forEach(dNone=>{\r\n                dNone.classList.remove('d-none')\r\n            })\r\n            info_notificaciones.classList.add('d-none')\r\n            info_avanzado.classList.add('d-none')\r\n            \r\n          \r\n        })\r\n        notificaciones.addEventListener('click',()=>{\r\n            const active = document.querySelector('.active-nav');\r\n            active.classList.remove('active-nav')\r\n            notificaciones.classList.add('active-nav')\r\n\r\n            const dNones = document.querySelectorAll('.d-none');\r\n            dNones.forEach(dNone=>{\r\n                dNone.classList.remove('d-none')\r\n            })\r\n            info_general.classList.add('d-none')\r\n            info_avanzado.classList.add('d-none')\r\n        })\r\n        avanzado.addEventListener('click',()=>{\r\n            const active = document.querySelector('.active-nav');\r\n            active.classList.remove('active-nav')\r\n            avanzado.classList.add('active-nav')\r\n\r\n            const dNones = document.querySelectorAll('.d-none');\r\n            dNones.forEach(dNone=>{\r\n                dNone.classList.remove('d-none')\r\n            })\r\n            info_notificaciones.classList.add('d-none')\r\n            info_general.classList.add('d-none')\r\n        })\r\n    }\r\n})();","(function(){\r\n    const tablaNotificaciones = document.querySelector('#tabla-notificaciones');\r\n    if(tablaNotificaciones){\r\n      \r\n    \r\n   \r\n        const btnSubmitNotificacion = document.querySelector('#btnSubmitNotificacion')\r\n        const agregar_notificacion= document.querySelector('#agregar-notificacion');\r\n        const formularioNotificaciones = document.querySelector('#notificacionForm');\r\n        const mensaje = document.querySelector('#mensaje');\r\n        const imagenes = document.querySelector('#imagenes');\r\n        const contenedorImagenes = document.querySelector(\"#contenedorImganes\");\r\n        let idNotificacion;\r\n\r\n        agregar_notificacion.addEventListener('click',function(e){\r\n            \r\n            accionesModalNotifiacion();\r\n       \r\n        })\r\n        obtenerNotificaciones();\r\n\r\n        async function obtenerNotificaciones(){\r\n          const id = obtenerIdUrl();\r\n          const url =`${location.origin}/api/reparacion/notificaciones?id=${id}`;\r\n          try {\r\n              const respuesta = await fetch(url);\r\n              const resultado = await respuesta.json();\r\n\r\n              mostrarNotificaciones(resultado);\r\n          } catch (error) {\r\n              \r\n          }\r\n\r\n        }\r\n\r\n        function llenarFormularioNotificacion(resultado){\r\n          limpiarHtml(contenedorImagenes);\r\n          idNotificacion = resultado.id;\r\n          $('#modal-notificacion').modal('show');\r\n          inicializarValidadorNofiticacion();\r\n          mensaje.value = resultado.mensaje;\r\n          if(resultado.imagenes.length!=0){\r\n   \r\n            resultado.imagenes.forEach(imagen =>{\r\n          \r\n              const image= document.createElement(\"img\");\r\n              image.classList.add('col-md-4','mb-3');\r\n              image.src = `../img/notificaciones/${imagen}.png`\r\n              image.setAttribute(\"alt\", \"no hay imágenes\");\r\n     \r\n              contenedorImagenes.appendChild(image);\r\n  \r\n            })\r\n          }\r\n       \r\n   \r\n      }\r\n\r\n      function alertaEliminarNotificacion(infoNotificacion){\r\n\r\n\r\n        Swal.fire({\r\n            icon:'warning',\r\n            title:\"Esta seguro de eliminar esta Notificación?\",\r\n            text:\"Esta acción no se puede deshacer\",\r\n      \r\n            showCancelButton: true,\r\n            confirmButtonText: 'Eliminar',\r\n            cancelButtonText: `Cancelar`,\r\n            \r\n\r\n        }).then(result=>{\r\n            if(result.isConfirmed){\r\n                eliminarNotificacion(infoNotificacion.id)\r\n            }\r\n        })\r\n      }\r\n      async function eliminarNotificacion(id){\r\n    \r\n        const datos = new FormData();\r\n        datos.append('id', id);\r\n\r\n        const url = '/api/reparacion/eliminar-notificacion';\r\n       \r\n        try {\r\n            const respuesta = await fetch(url,{\r\n                body:datos,\r\n                method: 'POST'\r\n            })\r\n            const resultado = await respuesta.json();\r\n           \r\n      \r\n            \r\n     \r\n        \r\n            if(resultado.type=='error'){\r\n                $(document).Toasts('create', {\r\n                    class: 'bg-danger',\r\n                    title: 'Error',\r\n                 \r\n                    body: resultado.msg\r\n                  })\r\n             \r\n            }else{\r\n\r\n                $(document).Toasts('create', {\r\n                    class: 'bg-azul text-blanco',\r\n                    title: 'Completado',\r\n                    \r\n                    body: resultado.msg\r\n                })\r\n\r\n                setTimeout(()=>{\r\n                    eliminarToastAnterior();\r\n                },8000)\r\n                obtenerNotificaciones();\r\n               \r\n         \r\n                \r\n            }\r\n        } catch (error) { \r\n           \r\n        }\r\n    }\r\n\r\n        function mostrarNotificaciones(resultado){\r\n       \r\n          \r\n          const tabla = document.querySelector('#tabla-notificaciones');\r\n          limpiarHtml(tabla)\r\n         \r\n          const tBody = document.createElement('tbody')\r\n       \r\n          let numero = 0;\r\n          resultado.forEach(infoNotificacion => {\r\n            numero++;\r\n              const {id, mensaje, imagenes} = infoNotificacion;\r\n         \r\n\r\n              const tr = document.createElement('tr');\r\n              const td = document.createElement('TD')\r\n              const div = document.createElement('DIV');\r\n              div.classList.add('row', 'd-flex', 'justify-content-between')\r\n              \r\n              const parrafo = document.createElement('P');\r\n              parrafo.classList.add('col-md-6');\r\n\r\n              parrafo.innerHTML = `<strong>Mensaje:</strong><br>${mensaje}`;\r\n\r\n              const divBtns = document.createElement('DIV');\r\n              divBtns.classList.add('col-md2')\r\n              const btnEditar = document.createElement('BUTTON');\r\n              btnEditar.type = \"button\";\r\n              btnEditar.classList.add('btn', 'btn-sm' ,'bg-hover-azul' ,'mx-2' ,'text-white', 'toolMio')\r\n              btnEditar.innerHTML = \"<span class='toolMio-text'>Editar</span><i class='fas fa-pen'></i>\";\r\n              btnEditar.style.maxHeight = \"40px\"\r\n              btnEditar.style.maxWidth = \"40px\"\r\n\r\n              btnEditar.onclick = function(){\r\n                llenarFormularioNotificacion(infoNotificacion)\r\n              }\r\n\r\n              const btnEliminar = document.createElement('BUTTON');\r\n              btnEliminar.type = \"button\";\r\n              btnEliminar.classList.add('btn', 'btn-sm' ,'bg-hover-azul' ,'mx-2' ,'text-white', 'toolMio')\r\n              btnEliminar.innerHTML = \"<span class='toolMio-text'>Eliminar</span><i class='fas fa-trash'></i>\";\r\n              btnEliminar.type = \"button\";\r\n              btnEliminar.style.maxHeight = \"40px\"\r\n              btnEliminar.style.maxWidth = \"40px\"\r\n\r\n              \r\n\r\n              btnEliminar.onclick = function(){\r\n                  alertaEliminarNotificacion(infoNotificacion);\r\n              }\r\n              \r\n            \r\n              const carrousel = document.createElement('DIV');\r\n              carrousel.id = `carousel_${numero}`;\r\n              carrousel.classList.add('carousel', 'slide', 'float-right', 'col-md-3');\r\n          \r\n              carrousel.dataset.ride = \"carousel\";\r\n              carrousel.style.maxWidth = \"40rem\"\r\n              carrousel.style.maxHeight = \"40rem\"\r\n            \r\n              carrousel.style.padding = \"10px\"\r\n              \r\n\r\n              const ol = document.createElement('OL');\r\n              ol.classList.add('carousel-indicators');\r\n            \r\n              const carrouselInner = document.createElement('DIV');\r\n              carrouselInner.classList.add(\"carousel-inner\");\r\n              let i = 1;\r\n             \r\n            \r\n              imagenes.forEach(imagen => {\r\n                  if(imagen!=''){\r\n                    const li = document.createElement('LI');\r\n                    li.dataset.target = `#carousel_${numero}`\r\n                    li.dataset.slideTo = `${i}`;\r\n                \r\n                    const carrouselItem = document.createElement('DIV');\r\n       \r\n                    carrouselItem.classList.add('carousel-item');\r\n                \r\n                    const img = document.createElement('IMG');\r\n                    img.classList.add('d-block', 'w-100')\r\n                    img.src = `/img/notificaciones/${imagen}.png`;\r\n                    // img.addEventListener('click',function(e){\r\n                    //   console.log(e.target.src)\r\n                    // })\r\n              \r\n                  \r\n                    \r\n                    if(i==1){\r\n                      li.classList.add('active');\r\n                      carrouselItem.classList.add('active');\r\n                    }\r\n                    ol.appendChild(li);\r\n                    carrouselItem.appendChild(img)\r\n                   \r\n                    carrouselInner.appendChild(carrouselItem);\r\n  \r\n                    i++;\r\n                  }\r\n           \r\n              });\r\n              \r\n             \r\n            \r\n              const prev = document.createElement('A');\r\n         \r\n              prev.classList.add('carousel-control-prev');\r\n     \r\n              prev.href = `#carousel_${numero}`;\r\n              prev.setAttribute(\"role\", \"button\");\r\n              prev.dataset.slide = \"prev\";\r\n\r\n              prev.innerHTML = `\r\n                          <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                          <span class=\"sr-only\">Previous</span>\r\n              `\r\n\r\n                \r\n              const next = document.createElement('A');\r\n         \r\n              next.classList.add('carousel-control-next');\r\n     \r\n              next.href = `#carousel_${numero}`;\r\n              next.setAttribute(\"role\", \"button\");\r\n              next.dataset.slide = \"next\";\r\n\r\n              next.innerHTML = ` \r\n                          <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                          <span class=\"sr-only\">Next</span>\r\n              `\r\n       \r\n              carrousel.appendChild(ol)\r\n              carrousel.appendChild(carrouselInner);\r\n              carrousel.appendChild(prev);\r\n              carrousel.appendChild(next);\r\n              carrousel.ondblclick = ()=>{\r\n                  mostrarCarrouselModal(imagenes)\r\n              }\r\n             \r\n\r\n              divBtns.appendChild(btnEditar)\r\n              divBtns.appendChild(btnEliminar)\r\n           \r\n          \r\n  \r\n        \r\n               div.appendChild(carrousel)\r\n               div.appendChild(parrafo)\r\n               div.appendChild(divBtns)\r\n              td.appendChild(div);\r\n      \r\n              tr.appendChild(td)\r\n   \r\n              tBody.appendChild(tr)\r\n\r\n            \r\n              \r\n          \r\n              \r\n          });\r\n      \r\n      \r\n       \r\n           tabla.appendChild(tBody)\r\n          // const carrouseles = document.querySelectorAll('.mostrarImagenesGrander');\r\n          // carrouseles.forEach(carrouselActual=>{\r\n          //   carrouselActual.addEventListener('dblClick', function(){\r\n          //     console.log('asfdasdf')\r\n          //     mostrarCarrouselModal(carrouselActual)\r\n              \r\n          //   })\r\n          // })\r\n     \r\n   \r\n        }\r\n\r\n      function mostrarCarrouselModal(imagenes){\r\n        const contendorCarrouselgrande = document.querySelector('#contenedor_carrousel_grande');\r\n      \r\n        limpiarHtml(contendorCarrouselgrande);\r\n\r\n        const carrouselGrande = document.createElement('DIV');\r\n       \r\n\r\n        carrouselGrande.id = `carousel_grande`;\r\n        carrouselGrande.classList.add('carousel', 'slide', 'float-right', 'col-md-3');\r\n       \r\n     \r\n        carrouselGrande.dataset.ride = \"carousel\";\r\n        carrouselGrande.style.maxWidth = \"40rem\"\r\n        carrouselGrande.style.maxHeight = \"40rem\"\r\n        \r\n      \r\n        carrouselGrande.style.padding = \"0px\"\r\n        \r\n\r\n        const ol = document.createElement('OL');\r\n        ol.classList.add('carousel-indicators');\r\n      \r\n        const carrouselGrandeInner = document.createElement('DIV');\r\n        carrouselGrandeInner.classList.add(\"carousel-inner\");\r\n        let i = 1;\r\n       \r\n       \r\n        imagenes.forEach(imagen => {\r\n            if(imagen!=''){\r\n              const li = document.createElement('LI');\r\n              li.dataset.target = `#carousel_grande`\r\n              li.dataset.slideTo = `${i}`;\r\n          \r\n              const carrouselGrandeItem = document.createElement('DIV');\r\n \r\n              carrouselGrandeItem.classList.add('carousel-item');\r\n          \r\n              const img = document.createElement('IMG');\r\n              img.classList.add('d-block', 'w-100')\r\n              img.src = `/img/notificaciones/${imagen}.png`;\r\n              // img.addEventListener('click',function(e){\r\n              //   console.log(e.target.src)\r\n              // })\r\n        \r\n\r\n              \r\n              if(i==1){\r\n                li.classList.add('active');\r\n                carrouselGrandeItem.classList.add('active');\r\n              }\r\n              ol.appendChild(li);\r\n              carrouselGrandeItem.appendChild(img)\r\n             \r\n              carrouselGrandeInner.appendChild(carrouselGrandeItem);\r\n\r\n              i++;\r\n            }\r\n     \r\n        });\r\n        \r\n        \r\n\r\n        const prev = document.createElement('A');\r\n   \r\n        prev.classList.add('carousel-control-prev');\r\n\r\n        prev.href = `#carousel_grande`;\r\n        prev.setAttribute(\"role\", \"button\");\r\n        prev.dataset.slide = \"prev\";\r\n\r\n        prev.innerHTML = `\r\n                    <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                    <span class=\"sr-only\">Previous</span>\r\n        `\r\n    \r\n          \r\n        const next = document.createElement('A');\r\n   \r\n        next.classList.add('carousel-control-next');\r\n\r\n        next.href = `#carousel_grande`;\r\n        next.setAttribute(\"role\", \"button\");\r\n        next.dataset.slide = \"next\";\r\n\r\n        next.innerHTML = ` \r\n                    <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                    <span class=\"sr-only\">Next</span>\r\n        `\r\n        \r\n      \r\n        carrouselGrande.appendChild(ol)\r\n        carrouselGrande.appendChild(carrouselGrandeInner);\r\n        carrouselGrande.appendChild(prev);\r\n        carrouselGrande.appendChild(next);\r\n\r\n        $('#modal-carrousel-imagenes').modal('show')\r\n        contendorCarrouselgrande.appendChild(carrouselGrande);\r\n        \r\n    \r\n      }\r\n     \r\n\r\n        imagenes.addEventListener('change',function(e){\r\n            limpiarHtml(contenedorImagenes);\r\n            const imagenes = e.target.files;\r\n\r\n            for (let i = 0; i < imagenes.length; i++) {\r\n              const file = imagenes[i];\r\n              const reader = new FileReader();\r\n              reader.onload = function (e) {\r\n                const image = document.createElement(\"img\");\r\n                image.src = e.target.result;\r\n                image.classList.add('col-md-4','mb-3');\r\n                contenedorImagenes.appendChild(image);\r\n                \r\n                return;\r\n              };\r\n          \r\n              reader.readAsDataURL(file);\r\n            }\r\n        })\r\n       \r\n        function limpiarHtml(referencia){\r\n          while(referencia.firstChild){\r\n            referencia.removeChild(referencia.firstChild)\r\n          }\r\n        }\r\n\r\n\r\n\r\n\r\n        function accionesModalNotifiacion(){\r\n            formularioNotificaciones.reset();\r\n            limpiarHtml(contenedorImagenes);\r\n            $('#modal-notificacion').modal('show');\r\n            inicializarValidadorNofiticacion();\r\n\r\n        }\r\n        function obtenerIdUrl(){\r\n         \r\n          const  url = window.location.href;\r\n          const  urlObj = new URL(url);\r\n          return  id = urlObj.searchParams.get(\"id\");\r\n      }\r\n        async function enviarDatosNotifiacion(){\r\n            const datos = new FormData();\r\n       \r\n            datos.append('mensaje', (mensaje.value).trim());\r\n            datos.append('reparacion_id', obtenerIdUrl())\r\n            const files = imagenes.files;\r\n      \r\n            if(files.length>0){\r\n              for (let i = 0; i < files.length; i++) {\r\n                datos.append(\"imagenes[]\", files[i]);\r\n              }\r\n            }else{\r\n             \r\n              datos.append(\"imagenes[]\", []);\r\n            }\r\n       \r\n            btnSubmitNotificacion.disabled = true;\r\n\r\n            let url = '';\r\n            if(idNotificacion){\r\n              \r\n                datos.append('id', idNotificacion)\r\n                url = '/api/reparacion/editar-notificacion';\r\n                \r\n               \r\n            }else{\r\n             \r\n                url = '/api/reparacion/crear-notificacion';\r\n          \r\n            }\r\n        \r\n\r\n\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n               \r\n         \r\n                eliminarToastAnterior();\r\n                btnSubmitNotificacion.disabled = false;\r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n                  \r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },4000)\r\n\r\n                    formularioNotificaciones.reset();\r\n\r\n                 \r\n                    $('#modal-notificacion').modal('hide');\r\n                    obtenerNotificaciones();\r\n                }\r\n             \r\n              \r\n   \r\n            } catch (error) {  \r\n            }\r\n        }\r\n        function eliminarToastAnterior(){\r\n          if(document.querySelector('#toastsContainerTopRight')){\r\n              document.querySelector('#toastsContainerTopRight').remove()\r\n          }\r\n        }\r\n\r\n        function inicializarValidadorNofiticacion() {\r\n      \r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                        enviarDatosNotifiacion();\r\n              }\r\n            });\r\n   \r\n            \r\n             $('#notificacionForm').validate({\r\n              rules: {\r\n                mensaje: {\r\n                    required: true\r\n\r\n                }\r\n                \r\n              },\r\n              messages: {\r\n                mensaje: {\r\n                    required: \"El mensaje de la notifiación es Obligatorio\"\r\n                }\r\n                \r\n\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#notificacionForm').on('valid', function(event) {\r\n            inicializarValidadorNofiticacion();\r\n        });\r\n    }\r\n})();\r\n\r\n","(function(){\r\n    const tablaIngresos = document.querySelector('#tabla-ingresos');\r\n    if(tablaIngresos){\r\n        let idIngreso;\r\n        const agregar_ingreso= document.querySelector('#agregar-ingreso');\r\n        const formularioIngresos = document.querySelector('#ingresoForm');\r\n        const ingreso = document.querySelector('#ingreso')\r\n        const descripcion = document.querySelector('#descripcion_ingreso');\r\n        const btnSubmitIngreso = document.querySelector('#btnSubmitIngreso');\r\n\r\n        \r\n        \r\n        const totalIngresosSpan = document.querySelector('#totalIngresos');\r\n\r\n        agregar_ingreso.addEventListener('click',function(e){\r\n            \r\n            accionesModalIngreso();\r\n        })\r\n\r\n        ingreso.addEventListener('input',function(e){\r\n            const valor = formateraValorIngreso(e)\r\n            ingreso.value = valor;\r\n        })\r\n\r\n        obtenerIngresos()\r\n\r\n        function accionesModalIngreso(){\r\n            formularioIngresos.reset();\r\n            idIngreso = null;\r\n            $('#modal-ingreso').modal('show');\r\n            inicializarValidadorIngreso();\r\n\r\n        }\r\n        async function obtenerIngresos(){\r\n            \r\n            const id = obtenerIdUrl();\r\n            const url =`${location.origin}/api/reparacion/ingresos?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n            \r\n                mostrarIngresos(resultado);\r\n            } catch (error) {\r\n                \r\n            }\r\n\r\n        }\r\n\r\n        function mostrarIngresos(resultado){\r\n          \r\n            const tabla = document.querySelector('#tabla-ingresos');\r\n            limpiarHtml(tabla)\r\n           \r\n            const tBody = document.createElement('tbody')\r\n     \r\n            const totalIngresos = resultado.reduce(function(acumulador, infoIngreso) {\r\n                return acumulador + parseFloat(infoIngreso.ingreso)\r\n              }, 0); \r\n     \r\n            \r\n            totalIngresosSpan.textContent = totalIngresos.toLocaleString('en')\r\n      \r\n            \r\n            resultado.forEach(infoIngreso => {\r\n                 const {id, ingreso, descripcion, reparacion_id} = infoIngreso;\r\n                const tr = document.createElement('tr');\r\n\r\n                const tdValor = document.createElement('td');\r\n                tdValor.classList.add('py-2');\r\n                tdValor.style.minWidth = '130px'\r\n                tdValor.innerHTML = `Valor: $<strong>${parseFloat(ingreso).toLocaleString('en')}</strong>`\r\n            \r\n\r\n\r\n                const tdDescripcion = document.createElement('td');\r\n                tdDescripcion.classList.add('py-2');\r\n                \r\n                tdDescripcion.innerHTML = `Descripcion: <strong style=\"max-width:30px !important\">${descripcion}</strong>`\r\n\r\n                const tdOpciones = document.createElement('td');\r\n                tdOpciones.classList.add('py-2');\r\n                tdOpciones.style.minWidth = '120px'\r\n                \r\n                const btnEditar = document.createElement('BUTTON');\r\n                btnEditar.type = \"button\";\r\n                btnEditar.classList.add('btn', 'btn-sm' ,'bg-hover-azul' ,'mx-2' ,'text-white', 'toolMio')\r\n                btnEditar.innerHTML = \"<span class='toolMio-text'>Editar</span><i class='fas fa-pen'></i>\";\r\n\r\n                btnEditar.onclick = function(){\r\n                    llenarFormularioIngreso(infoIngreso)\r\n                }\r\n\r\n                const btnEliminar = document.createElement('BUTTON');\r\n                btnEliminar.type = \"button\";\r\n                btnEliminar.classList.add('btn', 'btn-sm' ,'bg-hover-azul' ,'mx-2' ,'text-white', 'toolMio')\r\n                btnEliminar.innerHTML = \"<span class='toolMio-text'>Eliminar</span><i class='fas fa-trash'></i>\";\r\n                btnEliminar.type = \"button\";\r\n                btnEliminar.onclick = function(){\r\n                    alertaEliminarIngreso(infoIngreso);\r\n                }\r\n\r\n\r\n                tdOpciones.appendChild(btnEditar)\r\n                tdOpciones.appendChild(btnEliminar)\r\n\r\n                tr.appendChild(tdValor)\r\n                tr.appendChild(tdDescripcion)\r\n                tr.appendChild(tdOpciones)\r\n     \r\n                tBody.appendChild(tr)\r\n\r\n\r\n            });\r\n          \r\n            tabla.appendChild(tBody)\r\n        }\r\n        function alertaEliminarIngreso(ingresoInfo){\r\n  \r\n            Swal.fire({\r\n                icon:'warning',\r\n                html: `<h2 class=\"\">esta seguro de eliminar el Ingreso de <span class=\"font-weight-bold\"> ${(parseFloat(ingresoInfo.ingreso)).toLocaleString('en')} </span>?</h2><br><p>Esta acción no se puede deshacer</p>`,\r\n          \r\n                showCancelButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                cancelButtonText: `Cancelar`,\r\n                \r\n\r\n            }).then(result=>{\r\n                if(result.isConfirmed){\r\n                    eliminarIngreso(ingresoInfo.id)\r\n                }\r\n            })\r\n        }\r\n        async function eliminarIngreso(id){\r\n    \r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n    \r\n            const url = '/api/reparacion/eliminar-ingreso';\r\n           \r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n          \r\n                \r\n         \r\n            \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                 \r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },8000)\r\n                    obtenerIngresos();\r\n                   \r\n             \r\n                    \r\n                }\r\n            } catch (error) { \r\n               \r\n            }\r\n        }\r\n\r\n        \r\n        function formateraValorIngreso(e){\r\n      \r\n            const valor = e.target.value;\r\n            let valor_sin_formato = parseFloat(valor.replace(/,/g, ''));\r\n            if(isNaN(valor_sin_formato)){\r\n                valor_sin_formato = '';\r\n            }\r\n            const valor_formateado =  valor_sin_formato.toLocaleString('en');\r\n            return valor_formateado ;\r\n            \r\n        }\r\n        async function enviarDatosIngreso(){\r\n            const datos = new FormData();\r\n          \r\n            datos.append('ingreso', ingreso.value);\r\n            datos.append('descripcion', (descripcion.value).trim());\r\n         \r\n            btnSubmitIngreso.disabled = true;\r\n            let url = '';\r\n            if(idIngreso){\r\n                if(idIngreso){\r\n                    datos.append('id', idIngreso)\r\n                }\r\n                url = `/api/reparacion/editar-ingreso`;\r\n               \r\n            }else{\r\n             \r\n                url = '/api/reparacion/crear-ingreso';\r\n                datos.append('reparacion_id', obtenerIdUrl());\r\n            }\r\n\r\n         \r\n          \r\n\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                \r\n             \r\n                eliminarToastAnterior();\r\n                btnSubmitIngreso.disabled = false;\r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n                  \r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },4000)\r\n\r\n                    formularioIngresos.reset();\r\n\r\n                 \r\n                    $('#modal-ingreso').modal('hide');\r\n                    obtenerIngresos();\r\n                }\r\n   \r\n            } catch (error) {  \r\n            }\r\n        }\r\n        function obtenerIdUrl(){\r\n         \r\n            const  url = window.location.href;\r\n            const  urlObj = new URL(url);\r\n            return  id = urlObj.searchParams.get(\"id\");\r\n        }\r\n        function llenarFormularioIngreso(resultado){\r\n            idIngreso = resultado.id;\r\n            $('#modal-ingreso').modal('show');\r\n            inicializarValidadorIngreso();\r\n            ingreso.value = (parseFloat(resultado.ingreso)).toLocaleString('en');\r\n            descripcion.value = resultado.descripcion;\r\n\r\n           \r\n        }\r\n\r\n        function inicializarValidadorIngreso() {\r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                        enviarDatosIngreso();\r\n              }\r\n            });\r\n   \r\n            \r\n             $('#ingresoForm').validate({\r\n              rules: {\r\n                ingreso: {\r\n                    required: true\r\n\r\n                }\r\n                \r\n              },\r\n              messages: {\r\n                ingreso: {\r\n                    required: \"El valor del Ingreso es obligatorio\"\r\n                }\r\n                \r\n\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#ingresoForm').on('valid', function(event) {\r\n            inicializarValidadorIngreso();\r\n        });\r\n\r\n        function eliminarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n\r\n        function limpiarHtml(tabla){\r\n            while(tabla.firstChild){\r\n                tabla.removeChild(tabla.firstChild)\r\n            }\r\n        }\r\n    }\r\n})();","(function(){\r\n    const reparacion = document.querySelector('#reparacion');\r\n    if(reparacion){\r\n        let idCosto;\r\n        const agregar_costo= document.querySelector('#agregar-costo');\r\n        const formularioCostos = document.querySelector('#costoForm');\r\n        const costo = document.querySelector('#costo')\r\n        const descripcion = document.querySelector('#descripcion')\r\n        const btnSubmitCosto = document.querySelector('#btnSubmitCosto')\r\n        const totalCostosSpan = document.querySelector('#totalCostos');\r\n\r\n        \r\n        agregar_costo.addEventListener('click',function(e){\r\n            \r\n            accionesModalCosto();\r\n        })\r\n        costo.addEventListener('input',function(e){\r\n            const valor = formateraValorCosto(e)\r\n            costo.value = valor;\r\n        })\r\n\r\n        obtenerCostos();\r\n\r\n        function accionesModalCosto(){\r\n            formularioCostos.reset();\r\n            idCosto = null;\r\n            $('#modal-costo').modal('show');\r\n            inicializarValidadorCosto();\r\n\r\n        }\r\n\r\n      \r\n\r\n        async function obtenerCostos(){\r\n            const id = obtenerIdUrl();\r\n            const url =`${location.origin}/api/reparacion/costos?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n                mostrarCostos(resultado);\r\n            } catch (error) {\r\n                \r\n            }\r\n\r\n        }\r\n\r\n\r\n        function mostrarCostos(resultado){\r\n            const tabla = document.querySelector('#tabla-costos');\r\n            limpiarHtml(tabla)\r\n           \r\n            const tBody = document.createElement('tbody')\r\n            const totalCostos = resultado.reduce(function(acumulador, infoCosto) {\r\n                return acumulador + parseFloat(infoCosto.costo)\r\n              }, 0); \r\n            totalCostosSpan.textContent = totalCostos.toLocaleString('en')\r\n     \r\n            \r\n            resultado.forEach(infoCosto => {\r\n                 const {id, costo, descripcion, reparacion_id} = infoCosto;\r\n                const tr = document.createElement('tr');\r\n\r\n                const tdValor = document.createElement('td');\r\n                tdValor.classList.add('py-2');\r\n                tdValor.style.minWidth = '130px'\r\n                tdValor.innerHTML = `Valor: $<strong>${parseFloat(costo).toLocaleString('en')}</strong>`\r\n            \r\n\r\n\r\n                const tdDescripcion = document.createElement('td');\r\n                tdDescripcion.classList.add('py-2');\r\n                \r\n                tdDescripcion.innerHTML = `Descripcion: <strong style=\"max-width:30px !important\">${descripcion}</strong>`\r\n\r\n                const tdOpciones = document.createElement('td');\r\n                tdOpciones.classList.add('py-2');\r\n                tdOpciones.style.minWidth = '120px'\r\n                \r\n                const btnEditar = document.createElement('BUTTON');\r\n                btnEditar.type = \"button\";\r\n                btnEditar.classList.add('btn', 'btn-sm' ,'bg-hover-azul' ,'mx-2' ,'text-white', 'toolMio')\r\n                btnEditar.innerHTML = \"<span class='toolMio-text'>Editar</span><i class='fas fa-pen'></i>\";\r\n\r\n                btnEditar.onclick = function(){\r\n                    llenarFormularioCosto(infoCosto)\r\n                }\r\n\r\n                const btnEliminar = document.createElement('BUTTON');\r\n                btnEliminar.type = \"button\";\r\n                btnEliminar.classList.add('btn', 'btn-sm' ,'bg-hover-azul' ,'mx-2' ,'text-white', 'toolMio')\r\n                btnEliminar.innerHTML = \"<span class='toolMio-text'>Eliminar</span><i class='fas fa-trash'></i>\";\r\n                btnEliminar.type = \"button\";\r\n                btnEliminar.onclick = function(){\r\n                    alertaEliminarCosto(infoCosto);\r\n                }\r\n\r\n\r\n                tdOpciones.appendChild(btnEditar)\r\n                tdOpciones.appendChild(btnEliminar)\r\n\r\n                tr.appendChild(tdValor)\r\n                tr.appendChild(tdDescripcion)\r\n                tr.appendChild(tdOpciones)\r\n     \r\n                \r\n\r\n                tBody.appendChild(tr)\r\n\r\n                \r\n\r\n               \r\n\r\n            });\r\n            tabla.appendChild(tBody)\r\n        }\r\n        \r\n      \r\n        function obtenerIdUrl(){\r\n         \r\n            const  url = window.location.href;\r\n            const  urlObj = new URL(url);\r\n            return  id = urlObj.searchParams.get(\"id\");\r\n        }\r\n\r\n     \r\n        function llenarFormularioCosto(resultado){\r\n            idCosto = resultado.id;\r\n            $('#modal-costo').modal('show');\r\n            inicializarValidadorCosto();\r\n            costo.value = (parseFloat(resultado.costo)).toLocaleString('en');\r\n            descripcion.value = resultado.descripcion;\r\n\r\n           \r\n        }\r\n\r\n        function formateraValorCosto(e){\r\n      \r\n            const valor = e.target.value;\r\n            let valor_sin_formato = parseFloat(valor.replace(/,/g, ''));\r\n            if(isNaN(valor_sin_formato)){\r\n                valor_sin_formato = '';\r\n            }\r\n            const valor_formateado =  valor_sin_formato.toLocaleString('en');\r\n            return valor_formateado ;\r\n            \r\n        }\r\n\r\n        \r\n        async function enviarDatosCosto(){\r\n            const datos = new FormData();\r\n          \r\n            datos.append('costo', costo.value);\r\n            datos.append('descripcion', (descripcion.value).trim());\r\n         \r\n            btnSubmitCosto.disabled = true;\r\n            let url = '';\r\n            if(idCosto){\r\n                if(idCosto){\r\n                    datos.append('id', idCosto)\r\n                }\r\n                url = `/api/reparacion/editar-costo`;\r\n               \r\n            }else{\r\n             \r\n                url = '/api/reparacion/crear-costo';\r\n                datos.append('reparacion_id', obtenerIdUrl());\r\n            }\r\n\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                \r\n          \r\n                eliminarToastAnterior();\r\n                btnSubmitCosto.disabled = false;\r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n                  \r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },4000)\r\n\r\n                    formularioCostos.reset();\r\n\r\n                 \r\n                    $('#modal-costo').modal('hide');\r\n                    obtenerCostos();\r\n                }\r\n   \r\n            } catch (error) {  \r\n            }\r\n        }\r\n\r\n        function alertaEliminarCosto(costoInfo){\r\n  \r\n            Swal.fire({\r\n                icon:'warning',\r\n                html: `<h2 class=\"\">esta seguro de eliminar el costo de <span class=\"font-weight-bold\"> ${(parseFloat(costoInfo.costo)).toLocaleString('en')} </span>?</h2><br><p>Esta acción no se puede deshacer</p>`,\r\n          \r\n                showCancelButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                cancelButtonText: `Cancelar`,\r\n                \r\n\r\n            }).then(result=>{\r\n                if(result.isConfirmed){\r\n                    eliminarCosto(costoInfo.id)\r\n                }\r\n            })\r\n        }\r\n        async function eliminarCosto(id){\r\n    \r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n    \r\n            const url = '/api/reparacion/eliminar-costo';\r\n           \r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                console.log(resultado)\r\n                \r\n                // eliminarToastAnterior();\r\n            \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                 \r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },8000)\r\n                    obtenerCostos();\r\n                    console.log('recargano')\r\n             \r\n                    \r\n                }\r\n            } catch (error) { \r\n                console.log(error) \r\n            }\r\n        }\r\n\r\n        function inicializarValidadorCosto() {\r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                        enviarDatosCosto();\r\n              }\r\n            });\r\n   \r\n            \r\n             $('#costoForm').validate({\r\n              rules: {\r\n                costo: {\r\n                    required: true\r\n\r\n                }\r\n                \r\n              },\r\n              messages: {\r\n                costo: {\r\n                    required: \"El valor del costo es obligatorio\"\r\n                }\r\n                \r\n\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#costoForm').on('valid', function(event) {\r\n            inicializarValidadorCosto();\r\n        });\r\n    }\r\n\r\n    function eliminarToastAnterior(){\r\n        if(document.querySelector('#toastsContainerTopRight')){\r\n            document.querySelector('#toastsContainerTopRight').remove()\r\n        }\r\n    }\r\n\r\n    function limpiarHtml(tabla){\r\n        while(tabla.firstChild){\r\n            tabla.removeChild(tabla.firstChild)\r\n        }\r\n    }\r\n})();","(function(){\r\n    const reparaciones = document.querySelector('#reparaciones');\r\n    if(reparaciones){\r\n        let tablaReparaciones;\r\n        const marcasArray = ['NO ESPECIFICA','SAMSUMG', 'MOTOROLA',\"NOKIA\", 'LG', 'XIAOMI', 'KRONO', 'LENOVO', 'ALCATEL','HIUNDAI', 'IPHONE', 'SENDTEL','ASUS','TOSHIBA','DELL','HP','OPPO','REALME','HONOR','POCO','VIVO','ACER','SONY','BLU','CATERPILLAR','HTC', 'INFINIX','MICROSOFT','PANASONIC','SHARP','SONY ERICSSON', 'TLC', 'ZTE', 'OTRAS']\r\n        const formulario = document.querySelector('#reparacionForm');\r\n        let id = null;\r\n        const nombre = document.querySelector('#nombre')\r\n        const direccion = document.querySelector('#direccion')\r\n        const marca = document.querySelector('#marca')\r\n        const cedula_nit = document.querySelector('#cedula_nit')\r\n        const celular = document.querySelector('#celular')\r\n        const modelo = document.querySelector('#modelo')\r\n        const imei_1 = document.querySelector('#imei_1')\r\n        \r\n        const imei_2 = document.querySelector('#imei_2')\r\n        const falla = document.querySelector('#falla')\r\n        const proceso = document.querySelector('#proceso')\r\n        const valor_convenido = document.querySelector('#valor_convenido')\r\n        const abono = document.querySelector('#abono')\r\n        const saldo = document.querySelector('#saldo')\r\n        const cargador = document.querySelector('#cargador')\r\n        const bateria = document.querySelector('#bateria')\r\n        const tapa = document.querySelector('#tapa')\r\n        const estuche = document.querySelector('#estuche')\r\n        const sim = document.querySelector('#sim')\r\n        const sd = document.querySelector('#sd')\r\n        const observacion = document.querySelector('#observacion')\r\n        const btnRegistrarReparacion = document.querySelector('#registrar');\r\n        checkOBJ  = {\r\n            cargador:false,\r\n            bateria:false,\r\n            tapa:false,\r\n            estuche:false,\r\n            SIM:false,\r\n            SD:false\r\n        }\r\n      \r\n  \r\n         mostrarReparaciones();\r\n        // verificarCargaTabla();\r\n     \r\n        btnRegistrarReparacion.addEventListener('click',function(){\r\n            abono.readOnly = false;\r\n            valor_convenido.readOnly = false;\r\n            id = null;\r\n            llenarSelect('NO ESPECIFICA');\r\n            accionesModal();\r\n        })\r\n\r\n        $('#reparaciones').on('click', '#editar',function(e){\r\n            abono.readOnly = false;\r\n            valor_convenido.readOnly = false;\r\n            id=e.currentTarget.dataset.reparacionId;\r\n         \r\n            accionesModal();\r\n             \r\n        })\r\n\r\n        $('#reparaciones').on('click', '#eliminar',function(e){\r\n          \r\n            const idReparacion = e.currentTarget.dataset.reparacionId;\r\n            alertaEliminarReparacion(idReparacion,e);\r\n             \r\n        })\r\n        $('#reparaciones').on('click', '#imprimir',function(e){\r\n          \r\n            const idReparacion = e.currentTarget.dataset.reparacionId;\r\n            imprimirReparacion(idReparacion);\r\n             \r\n        })\r\n\r\n        valor_convenido.addEventListener('input', function(e){\r\n         \r\n            valor_convenido.value =formaterValor(e);\r\n            saldo.value =formaterValor(e);\r\n            abono.value = 0;\r\n           \r\n        })\r\n        abono.addEventListener('input', function(e){\r\n            calcularDiferencia(e);\r\n            abono.value = formaterValor(e);\r\n            \r\n        })\r\n\r\n        async function imprimirReparacion(id){\r\n        \r\n            const url = `/api/factura?key=${btoa(id)}`;\r\n            try {\r\n                const respuesta = await fetch(url)\r\n                window.open(url, '_blank');\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n\r\n        function calcularDiferencia(e){\r\n            const valor_acordado = valor_convenido.value\r\n            const valor_acordado_sin_formato =  parseFloat(valor_acordado.replace(/,/g, ''));\r\n            let abono = parseFloat(e.target.value.replace(/,/g, ''));\r\n            if(abono ==''){\r\n                abono = 0;\r\n            }\r\n            const saldo_pendiente = valor_acordado_sin_formato - abono;\r\n       \r\n            console.log(valor_acordado_sin_formato)\r\n         \r\n            if(isNaN(saldo_pendiente)){\r\n                saldo_pendiente = '';\r\n            }\r\n            const valor_formateado =  saldo_pendiente.toLocaleString('en');\r\n            saldo.value = valor_formateado;\r\n            \r\n        }\r\n\r\n        function formaterValor(e){\r\n            const valor = e.target.value;\r\n            let valor_sin_formato = parseFloat(valor.replace(/,/g, ''));\r\n            if(isNaN(valor_sin_formato)){\r\n                valor_sin_formato = '';\r\n            }\r\n            const valor_formateado =  valor_sin_formato.toLocaleString('en');\r\n            return valor_formateado ;\r\n            \r\n        }\r\n\r\n\r\n       \r\n        \r\n        function alertaEliminarReparacion(id, e){\r\n  \r\n            const cliente = e.currentTarget.parentElement.parentElement.parentElement.childNodes[1].textContent;\r\n            \r\n            Swal.fire({\r\n                icon:'warning',\r\n                html: `<h2 class=\"\">esta seguro de Cancelar la reparación del cliente <span class=\"font-weight-bold\"> ${cliente} </span>?</h2><br><p>Esta acción no se puede deshacer</p>`,\r\n          \r\n                showCancelButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                cancelButtonText: `Cancelar`,\r\n                \r\n\r\n            }).then(result=>{\r\n                if(result.isConfirmed){\r\n                    eliminarReparacion(id)\r\n                }\r\n            })\r\n        }\r\n        async function eliminarReparacion(id){\r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n    \r\n            //url = 'http://localhost:3000/reparacion/eliminar';s\r\n            const url = '/api/reparacion/eliminar'\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                \r\n                eliminarToastAnterior();\r\n            \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },8000)\r\n\r\n                 \r\n                    tablaReparaciones.ajax.reload(); \r\n                }\r\n            } catch (error) { \r\n                $(document).Toasts('create', {\r\n                    class: 'bg-danger',\r\n                    title: 'Error',\r\n                 \r\n                    body: 'No es Posible eliminar La reparacion porque tiene gastos y/o ingrseso asociados'\r\n                  })\r\n\r\n                setTimeout(()=>{\r\n                    eliminarToastAnterior();\r\n                },8000)\r\n            }\r\n        }\r\n        function mostrarReparaciones(){\r\n \r\n            $(\"#tabla\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaReparaciones = $('#tabla').DataTable({\r\n                ajax: '/api/reparaciones',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true,\r\n                initComplete: function () {\r\n                    // Inicializa los botones después de que la tabla se haya creado\r\n                    var buttons = new $.fn.dataTable.Buttons(tablaReparaciones, {\r\n                        buttons: [\"copy\", \"csv\", \"excel\", \"pdf\", \"print\"]\r\n                    }).container().appendTo('#tabla_wrapper .col-md-6:eq(0)');\r\n                }\r\n            });\r\n            \r\n            // $.ajax({\r\n            //     url:'/api/reparaciones',\r\n            //     dataType:'json',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.resposeText)\r\n            //     }\r\n            // })\r\n       \r\n        }  \r\n        \r\n\r\n        function accionesModal(){\r\n      \r\n            formulario.reset();\r\n            btnSubmit.disabled = false;\r\n            $('#modal-reparacion').modal('show');\r\n       \r\n           \r\n            \r\n            \r\n            inicializarValidador();\r\n            if(id){\r\n             \r\n                consultarReparacion();\r\n            }\r\n        }\r\n\r\n        async function  consultarReparacion(){\r\n        \r\n            try {\r\n                const respuesta = await fetch(`/api/reparacion?id=${id}`);\r\n                const resultado = await respuesta.json();\r\n               \r\n             \r\n                llenarFormulario(resultado);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        function llenarFormulario(resultado){\r\n            const accesorios = JSON.parse(resultado.accesorios);\r\n            nombre.value = resultado.nombre;\r\n            cedula_nit.value = resultado.cedula_nit;\r\n            celular.value = resultado.celular;\r\n            direccion.value = resultado.direccion;\r\n        \r\n            llenarSelect( resultado.marca);\r\n            \r\n            modelo.value = resultado.modelo;\r\n            imei_1.value = resultado.imei_1;\r\n            imei_2.value = resultado.imei_2;\r\n            falla.value = resultado.falla;\r\n            proceso.value = resultado.proceso;\r\n            valor_convenido.value = (parseFloat(resultado.valor_convenido)).toLocaleString('en')\r\n            abono.value = (parseFloat(resultado.abono)).toLocaleString('en')\r\n            saldo.value = (parseFloat(resultado.saldo)).toLocaleString('en')\r\n            if(resultado.estado!=0){\r\n                abono.readOnly = true;\r\n                valor_convenido.readOnly = true;\r\n\r\n            }\r\n            if(accesorios.cargador==true){\r\n                cargador.checked = true;\r\n            }\r\n            if(accesorios.bateria==true){\r\n                bateria.checked = true;\r\n            }\r\n            if(accesorios.estuche==true){\r\n                estuche.checked = true;\r\n            }\r\n            if(accesorios.tapa==true){\r\n                tapa.checked = true;\r\n            }\r\n            if(accesorios.sim==true){\r\n                sim.checked = true;\r\n            }\r\n          \r\n            if(accesorios.sd==true){\r\n                sd.checked = true;\r\n            }\r\n            observacion.value = resultado.observacion\r\n          \r\n           \r\n        }\r\n         \r\n\r\n        async function enviarDatos(){\r\n            const datos = new FormData();\r\n            if(id){\r\n                datos.append('id', id)\r\n            }\r\n            datos.append('nombre', (nombre.value).trim());\r\n            datos.append('cedula_nit', (cedula_nit.value).trim());\r\n            datos.append('celular', celular.value);\r\n            datos.append('direccion', (direccion.value).trim());\r\n            datos.append('marca', marca.value);\r\n            datos.append('modelo', (modelo.value).trim());\r\n            datos.append('imei_1', (imei_1.value).trim());\r\n            datos.append('imei_2', (imei_2.value).trim());\r\n            datos.append('falla', (falla.value).trim());\r\n            datos.append('proceso', (proceso.value).trim());\r\n            datos.append('valor_convenido', valor_convenido.value);\r\n            datos.append('abono', abono.value);\r\n            datos.append('saldo', saldo.value);\r\n            datos.append('observacion', (observacion.value).trim());\r\n\r\n            datos.append('accesorios',formatearCheckBox() );\r\n         \r\n\r\n            //btnSubmit.disabled = true;\r\n            let url = '';\r\n            if(id){\r\n      \r\n                url = `/api/reparacion/editar`;\r\n            }else{\r\n               \r\n                url = '/api/reparacion/crear';\r\n            }\r\n            \r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n             \r\n          \r\n                eliminarToastAnterior();\r\n                btnSubmit.disabled = false;\r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n                    tablaReparaciones.ajax.reload()\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },4000)\r\n\r\n                    formulario.reset();\r\n\r\n                 \r\n                    $('#modal-reparacion').modal('hide');\r\n                    //tablaReparaciones.ajax.reload(); \r\n                }\r\n   \r\n            } catch (error) {  \r\n            }\r\n        }\r\n\r\n        function formatearCheckBox(){\r\n            checkOBJ.cargador = cargador.checked;\r\n            checkOBJ.tapa = tapa.checked;\r\n            \r\n            checkOBJ.bateria = bateria.checked;\r\n            checkOBJ.estuche= estuche.checked;\r\n            checkOBJ.sim= sim.checked;\r\n            checkOBJ.sd = sd.checked;\r\n\r\n            const jsonString =  JSON.stringify(checkOBJ)\r\n            return  jsonString.replace(/\\\\/g, '');\r\n            \r\n        }\r\n\r\n        function eliminarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n\r\n        function inicializarValidador() {\r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                        enviarDatos();\r\n              }\r\n            });\r\n   \r\n            \r\n             $('#reparacionForm').validate({\r\n              rules: {\r\n                nombre: {\r\n                    required: true\r\n                },\r\n                cedula_nit:{\r\n                    required: true\r\n                },\r\n                celular:{\r\n                    required: true,\r\n                    digits:true,\r\n                    minlength:10,\r\n                    maxlength:10\r\n                },\r\n                valor_convenido:{\r\n                    required: true\r\n\r\n                }\r\n              },\r\n              messages: {\r\n                nombre: {\r\n                    required: \"El nombre de la categoría es obligatorio\"\r\n                },\r\n                cedula_nit:{\r\n                    required: 'El Número de identificación es obligatorio'\r\n                },\r\n                celular:{\r\n                    required: 'El Celular de contacto es obligatorio',\r\n                    digits:'El número de celular solo puede contener números',\r\n                    minlength:'El número de celular debe de ser de 10 digitos',\r\n                    maxlength:'El número de celular debe de ser de 10 digitos'\r\n                },\r\n                valor_convenido:{\r\n                    required: 'El valor convenido es obligatorio'\r\n\r\n                }\r\n                \r\n\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#reparacionForm').on('valid', function(event) {\r\n            inicializarValidador();\r\n        });\r\n        function llenarSelect(optionSeleccionado){\r\n   \r\n          \r\n            while(marca.firstChild){\r\n                marca.removeChild(marca.firstChild)\r\n            }\r\n       \r\n            marcasArray.forEach(marcaCelular => {\r\n           \r\n                const opcion =   document.createElement('OPTION');\r\n                opcion.value = marcaCelular;\r\n                opcion.textContent = marcaCelular;\r\n                if(marcaCelular == optionSeleccionado){\r\n               \r\n                    opcion.selected = true;\r\n                }\r\n               \r\n        \r\n                marca.appendChild(opcion)\r\n            });\r\n        }\r\n        $('.select2').select2()\r\n        $('.select2bs4').select2({\r\n            theme: 'bootstrap4'\r\n        })\r\n    \r\n    }\r\n\r\n  \r\n})();","(function(){\r\n    const navReparacion = document.querySelector('#navReparacionCliente');\r\n    if(navReparacion){\r\n        const btnEstadoReparacion = document.querySelector('#btnEstadoReparacion');\r\n        const btnTotalReparacion = document.querySelector('#btnTotalReparacion');\r\n        const btnImprimirReparacion = document.querySelector('#btnImprimirReparacion');\r\n        consultarEstado();\r\n\r\n        \r\n        async function consultarEstado(){\r\n            const inputHiden = document.querySelector('#idReparacion');\r\n            const id = inputHiden.dataset.reparacionId;\r\n           \r\n            const url = `${location.origin}/api/reparacion/estado-actual?id=${id}`;\r\n            \r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n                setearEstado(resultado);\r\n                setearTotal(resultado);\r\n                setearImpresion(resultado);\r\n              \r\n                \r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n\r\n        function setearEstado(resultado){\r\n            if(resultado.estado==0){\r\n                btnEstadoReparacion.classList.add('bg-secondary');\r\n                btnEstadoReparacion.textContent = 'Pendiente'\r\n            }\r\n            \r\n            if(resultado.estado==1){\r\n                btnEstadoReparacion.classList.remove('bg-secondary');\r\n                btnEstadoReparacion.classList.add('bg-success');\r\n                btnEstadoReparacion.textContent = 'Reparado'\r\n            }if(resultado.estado==2){\r\n                btnEstadoReparacion.classList.remove('bg-success');\r\n                btnEstadoReparacion.classList.add('bg-danger');\r\n                btnEstadoReparacion.textContent = 'Cerrado'\r\n            }\r\n            btnEstadoReparacion.dataset.estado = resultado.estado;\r\n            if(resultado.estado!=2){\r\n                btnEstadoReparacion.addEventListener('click', function(){\r\n                    alertaCambiarEstado(resultado)\r\n                })\r\n            }\r\n               \r\n           \r\n        }\r\n        function setearTotal(resultado){\r\n            if(resultado.estado==0){\r\n                btnTotalReparacion.innerHTML = `Total: <strong></strong>`\r\n            }else{\r\n                const total_pagar = parseFloat(resultado.valor_final)-parseFloat(resultado.abono)+parseFloat(resultado.costo_final)\r\n                btnTotalReparacion.innerHTML = `Total: <strong>$${(parseFloat(total_pagar)).toLocaleString('en')}</strong>`\r\n            }\r\n            \r\n            \r\n        }\r\n        function setearImpresion(resultado){\r\n            \r\n            if(resultado.estado != 0){\r\n           \r\n                btnImprimirReparacion.addEventListener('click', function(e){\r\n                    console.log('imprimiendo')\r\n                })  \r\n            }\r\n        }\r\n       \r\n    }\r\n})();","(function(){\r\n  \r\n    const costosCliente = document.querySelector('#tabla-costos-cliente');\r\n   \r\n    if(costosCliente){\r\n        \r\n        const totalIngresosSpan = document.querySelector('#totalIngresos');\r\n        obtenerIngresos()\r\n        async function obtenerIngresos(){\r\n            \r\n            const inputHiden = document.querySelector('#idReparacion');\r\n            const id = inputHiden.dataset.reparacionId;\r\n            const url =`${location.origin}/api/reparacion/ingresos?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n            \r\n                mostrarIngresos(resultado);\r\n            } catch (error) {\r\n                \r\n            }\r\n\r\n        }\r\n        function mostrarIngresos(resultado){\r\n          \r\n          console.log(resultado)          \r\n            const tabla = document.querySelector('#tabla-costos-cliente');\r\n     \r\n            \r\n       \r\n          \r\n            const tBody = document.createElement('tbody')\r\n           \r\n       \r\n            const totalIngresos = resultado.reduce(function(acumulador, infoIngreso) {\r\n                return acumulador + parseFloat(infoIngreso.ingreso)\r\n              }, 0); \r\n     \r\n            \r\n            totalIngresosSpan.textContent = totalIngresos.toLocaleString('en')\r\n           \r\n            \r\n            resultado.forEach(infoIngreso => {\r\n                 const {id, ingreso, descripcion, reparacion_id} = infoIngreso;\r\n         \r\n                const tr = document.createElement('tr');\r\n\r\n                const tdValor = document.createElement('td');\r\n                tdValor.classList.add('py-2');\r\n                tdValor.style.minWidth = '130px'\r\n                tdValor.innerHTML = `Valor: $<strong>${parseFloat(ingreso).toLocaleString('en')}</strong>`\r\n            \r\n\r\n\r\n                const tdDescripcion = document.createElement('td');\r\n                tdDescripcion.classList.add('py-2');\r\n                \r\n                tdDescripcion.innerHTML = `Descripcion: <strong style=\"max-width:30px !important\">${descripcion}</strong>`\r\n\r\n                \r\n              \r\n\r\n             \r\n\r\n                tr.appendChild(tdValor)\r\n                tr.appendChild(tdDescripcion)\r\n       \r\n     \r\n                tBody.appendChild(tr)\r\n\r\n\r\n            });\r\n          \r\n            tabla.appendChild(tBody)\r\n        }\r\n        function limpiarHtml(referencia){\r\n            while(referencia.firstChild){\r\n              referencia.removeChild(referencia.firstChild)\r\n            }\r\n        }\r\n    }\r\n\r\n})();","(function(){\r\n    const navReparacion = document.querySelector('#navReparacionCliente');\r\n    if(navReparacion){\r\n        const general = document.querySelector('#general');\r\n        const notificaciones = document.querySelector('#notificaciones');\r\n        const avanzado = document.querySelector('#avanzado');\r\n        const info_general = document.querySelector('#info_general');\r\n        const info_notificaciones = document.querySelector('#info_notificaciones');\r\n        const info_avanzado = document.querySelector('#info_avanzado');\r\n\r\n        general.addEventListener('click',()=>{\r\n            const active = document.querySelector('.active-nav');\r\n            active.classList.remove('active-nav')\r\n            general.classList.add('active-nav')\r\n\r\n            const dNones = document.querySelectorAll('.d-none');\r\n            dNones.forEach(dNone=>{\r\n                dNone.classList.remove('d-none')\r\n            })\r\n            info_notificaciones.classList.add('d-none')\r\n            info_avanzado.classList.add('d-none')\r\n            \r\n          \r\n        })\r\n        notificaciones.addEventListener('click',()=>{\r\n            const active = document.querySelector('.active-nav');\r\n            active.classList.remove('active-nav')\r\n            notificaciones.classList.add('active-nav')\r\n\r\n            const dNones = document.querySelectorAll('.d-none');\r\n            dNones.forEach(dNone=>{\r\n                dNone.classList.remove('d-none')\r\n            })\r\n            info_general.classList.add('d-none')\r\n            info_avanzado.classList.add('d-none')\r\n        })\r\n        avanzado.addEventListener('click',()=>{/*  */\r\n            const active = document.querySelector('.active-nav');\r\n            active.classList.remove('active-nav')\r\n            avanzado.classList.add('active-nav')\r\n\r\n            const dNones = document.querySelectorAll('.d-none');\r\n            dNones.forEach(dNone=>{\r\n                dNone.classList.remove('d-none')\r\n            })\r\n            info_notificaciones.classList.add('d-none')\r\n            info_general.classList.add('d-none')\r\n        })\r\n    }\r\n})();","(function(){\r\n    const tablaNotificacionesCliente = document.querySelector('#tabla-notificaciones-cliente');\r\n    if(tablaNotificacionesCliente){\r\n        const contenedorImagenes = document.querySelector(\"#contenedorImganes\");\r\n        obtenerNotificaciones();\r\n        \r\n        async function obtenerNotificaciones(){\r\n            const inputHiden = document.querySelector('#idReparacion');\r\n            const id = inputHiden.dataset.reparacionId;\r\n            const url =`${location.origin}/api/reparacion/notificaciones?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n         \r\n        \r\n                mostrarNotificaciones(resultado);\r\n            } catch (error) {\r\n                \r\n            }\r\n  \r\n          }\r\n          function mostrarNotificaciones(resultado){\r\n          \r\n         \r\n            const tabla = document.querySelector('#tabla-notificaciones-cliente');\r\n            limpiarHtml(tabla)\r\n           \r\n            const tBody = document.createElement('tbody')\r\n         \r\n            let numero = 0;\r\n            resultado.forEach(infoNotificacion => {\r\n            numero++;\r\n              const {id, mensaje, imagenes} = infoNotificacion;\r\n         \r\n\r\n              const tr = document.createElement('tr');\r\n              const td = document.createElement('TD')\r\n              const div = document.createElement('DIV');\r\n              div.classList.add('row', 'd-flex', 'justify-content-between')\r\n              \r\n              const parrafo = document.createElement('P');\r\n              parrafo.classList.add('col-md-7');\r\n\r\n              parrafo.innerHTML = `<strong>Mensaje:</strong><br>${mensaje}`;\r\n\r\n              // const divBtns = document.createElement('DIV');\r\n              // divBtns.classList.add('col-md2')\r\n              // const btnEditar = document.createElement('BUTTON');\r\n              // btnEditar.type = \"button\";\r\n              // btnEditar.classList.add('btn', 'btn-sm' ,'bg-hover-azul' ,'mx-2' ,'text-white', 'toolMio')\r\n              // btnEditar.innerHTML = \"<span class='toolMio-text'>Editar</span><i class='fas fa-pen'></i>\";\r\n              // btnEditar.style.maxHeight = \"40px\"\r\n              // btnEditar.style.maxWidth = \"40px\"\r\n\r\n              // btnEditar.onclick = function(){\r\n              //   llenarFormularioNotificacion(infoNotificacion)\r\n              // }\r\n\r\n              // const btnEliminar = document.createElement('BUTTON');\r\n              // btnEliminar.type = \"button\";\r\n              // btnEliminar.classList.add('btn', 'btn-sm' ,'bg-hover-azul' ,'mx-2' ,'text-white', 'toolMio')\r\n              // btnEliminar.innerHTML = \"<span class='toolMio-text'>Eliminar</span><i class='fas fa-trash'></i>\";\r\n              // btnEliminar.type = \"button\";\r\n              // btnEliminar.style.maxHeight = \"40px\"\r\n              // btnEliminar.style.maxWidth = \"40px\"\r\n\r\n              \r\n\r\n              // btnEliminar.onclick = function(){\r\n              //     alertaEliminarNotificacion(infoNotificacion);\r\n              // }\r\n              \r\n            \r\n              const carrousel = document.createElement('DIV');\r\n              carrousel.id = `carousel_${numero}`;\r\n              carrousel.classList.add('carousel', 'slide', 'float-right', 'col-md-4');\r\n          \r\n              carrousel.dataset.ride = \"carousel\";\r\n              carrousel.style.maxWidth = \"40rem\"\r\n              carrousel.style.maxHeight = \"40rem\"\r\n            \r\n              carrousel.style.padding = \"10px\"\r\n              \r\n\r\n              const ol = document.createElement('OL');\r\n              ol.classList.add('carousel-indicators');\r\n            \r\n              const carrouselInner = document.createElement('DIV');\r\n              carrouselInner.classList.add(\"carousel-inner\");\r\n              let i = 1;\r\n             \r\n            \r\n              imagenes.forEach(imagen => {\r\n                  if(imagen!=''){\r\n                    const li = document.createElement('LI');\r\n                    li.dataset.target = `#carousel_${numero}`\r\n                    li.dataset.slideTo = `${i}`;\r\n                \r\n                    const carrouselItem = document.createElement('DIV');\r\n       \r\n                    carrouselItem.classList.add('carousel-item');\r\n                \r\n                    const img = document.createElement('IMG');\r\n                    img.classList.add('d-block', 'w-100')\r\n                    img.src = `/img/notificaciones/${imagen}.png`;\r\n                    // img.addEventListener('click',function(e){\r\n                    //   console.log(e.target.src)\r\n                    // })\r\n              \r\n                  \r\n                    \r\n                    if(i==1){\r\n                      li.classList.add('active');\r\n                      carrouselItem.classList.add('active');\r\n                    }\r\n                    ol.appendChild(li);\r\n                    carrouselItem.appendChild(img)\r\n                   \r\n                    carrouselInner.appendChild(carrouselItem);\r\n  \r\n                    i++;\r\n                  }\r\n           \r\n              });\r\n              \r\n             \r\n            \r\n              const prev = document.createElement('A');\r\n         \r\n              prev.classList.add('carousel-control-prev');\r\n     \r\n              prev.href = `#carousel_${numero}`;\r\n              prev.setAttribute(\"role\", \"button\");\r\n              prev.dataset.slide = \"prev\";\r\n\r\n              prev.innerHTML = `\r\n                          <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                          <span class=\"sr-only\">Previous</span>\r\n              `\r\n\r\n                \r\n              const next = document.createElement('A');\r\n         \r\n              next.classList.add('carousel-control-next');\r\n     \r\n              next.href = `#carousel_${numero}`;\r\n              next.setAttribute(\"role\", \"button\");\r\n              next.dataset.slide = \"next\";\r\n\r\n              next.innerHTML = ` \r\n                          <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                          <span class=\"sr-only\">Next</span>\r\n              `\r\n       \r\n              carrousel.appendChild(ol)\r\n              carrousel.appendChild(carrouselInner);\r\n              carrousel.appendChild(prev);\r\n              carrousel.appendChild(next);\r\n              carrousel.ondblclick = ()=>{\r\n                  mostrarCarrouselModal(imagenes)\r\n              }\r\n             \r\n\r\n              // divBtns.appendChild(btnEditar)\r\n              // divBtns.appendChild(btnEliminar)\r\n           \r\n          \r\n  \r\n        \r\n               div.appendChild(carrousel)\r\n               div.appendChild(parrafo)\r\n              //  div.appendChild(divBtns)\r\n              td.appendChild(div);\r\n      \r\n              tr.appendChild(td)\r\n   \r\n              tBody.appendChild(tr)\r\n\r\n            \r\n                \r\n            });\r\n        \r\n        \r\n         \r\n            tabla.appendChild(tBody)\r\n       \r\n     \r\n        }\r\n        function mostrarCarrouselModal(imagenes){\r\n          const contendorCarrouselgrande = document.querySelector('#contenedor_carrousel_grande');\r\n        \r\n          limpiarHtml(contendorCarrouselgrande);\r\n  \r\n          const carrouselGrande = document.createElement('DIV');\r\n         \r\n  \r\n          carrouselGrande.id = `carousel_grande`;\r\n          carrouselGrande.classList.add('carousel', 'slide', 'float-right', 'col-md-3');\r\n         \r\n       \r\n          carrouselGrande.dataset.ride = \"carousel\";\r\n          carrouselGrande.style.maxWidth = \"40rem\"\r\n          carrouselGrande.style.maxHeight = \"40rem\"\r\n          \r\n        \r\n          carrouselGrande.style.padding = \"0px\"\r\n          \r\n  \r\n          const ol = document.createElement('OL');\r\n          ol.classList.add('carousel-indicators');\r\n        \r\n          const carrouselGrandeInner = document.createElement('DIV');\r\n          carrouselGrandeInner.classList.add(\"carousel-inner\");\r\n          let i = 1;\r\n         \r\n         \r\n          imagenes.forEach(imagen => {\r\n              if(imagen!=''){\r\n                const li = document.createElement('LI');\r\n                li.dataset.target = `#carousel_grande`\r\n                li.dataset.slideTo = `${i}`;\r\n            \r\n                const carrouselGrandeItem = document.createElement('DIV');\r\n   \r\n                carrouselGrandeItem.classList.add('carousel-item');\r\n            \r\n                const img = document.createElement('IMG');\r\n                img.classList.add('d-block', 'w-100')\r\n                img.src = `/img/notificaciones/${imagen}.png`;\r\n                // img.addEventListener('click',function(e){\r\n                //   console.log(e.target.src)\r\n                // })\r\n          \r\n  \r\n                \r\n                if(i==1){\r\n                  li.classList.add('active');\r\n                  carrouselGrandeItem.classList.add('active');\r\n                }\r\n                ol.appendChild(li);\r\n                carrouselGrandeItem.appendChild(img)\r\n               \r\n                carrouselGrandeInner.appendChild(carrouselGrandeItem);\r\n  \r\n                i++;\r\n              }\r\n       \r\n          });\r\n          \r\n          \r\n  \r\n          const prev = document.createElement('A');\r\n     \r\n          prev.classList.add('carousel-control-prev');\r\n  \r\n          prev.href = `#carousel_grande`;\r\n          prev.setAttribute(\"role\", \"button\");\r\n          prev.dataset.slide = \"prev\";\r\n  \r\n          prev.innerHTML = `\r\n                      <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                      <span class=\"sr-only\">Previous</span>\r\n          `\r\n      \r\n            \r\n          const next = document.createElement('A');\r\n     \r\n          next.classList.add('carousel-control-next');\r\n  \r\n          next.href = `#carousel_grande`;\r\n          next.setAttribute(\"role\", \"button\");\r\n          next.dataset.slide = \"next\";\r\n  \r\n          next.innerHTML = ` \r\n                      <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                      <span class=\"sr-only\">Next</span>\r\n          `\r\n          \r\n        \r\n          carrouselGrande.appendChild(ol)\r\n          carrouselGrande.appendChild(carrouselGrandeInner);\r\n          carrouselGrande.appendChild(prev);\r\n          carrouselGrande.appendChild(next);\r\n  \r\n          $('#modal-carrousel-imagenes').modal('show')\r\n          contendorCarrouselgrande.appendChild(carrouselGrande);\r\n          \r\n      \r\n        }\r\n        function limpiarHtml(referencia){\r\n            while(referencia.firstChild){\r\n              referencia.removeChild(referencia.firstChild)\r\n            }\r\n        }\r\n    }\r\n})();","(function(){\r\n    const informacionCompleta = document.querySelector('#informacionCompleta');\r\n    if(informacionCompleta){\r\n        const ingresos = document.querySelector('#ingresos')\r\n        const gastos = document.querySelector('#gastos')\r\n        const ganancias = document.querySelector('#ganancias')\r\n        const ganancias_mes_actual = document.querySelector('#ganancias_mes_actual')\r\n        const ganancias_3_meses= document.querySelector('#ganancias_3_meses')\r\n        const pendientes= document.querySelector('#pendientes')\r\n        const reparados= document.querySelector('#reparados')\r\n        const cerrados= document.querySelector('#cerrados')\r\n\r\n        consultarInfo();\r\n        async function consultarInfo(){\r\n          \r\n            const url = `${location.origin}/api/dashboard`;\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n                console.log(resultado)\r\n                imprimirResultados(resultado)\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        function imprimirResultados(resultado){\r\n          \r\n            ingresos.textContent = '$'+(parseFloat(resultado.ingresos_totales)+parseFloat(resultado.gastos_totales)).toLocaleString('en');\r\n            gastos.textContent = '$'+(parseFloat(resultado.gastos_totales)).toLocaleString('en');\r\n            ganancias.textContent = '$'+(parseFloat(resultado.ingresos_totales)).toLocaleString('en');\r\n            ganancias_mes_actual.textContent = '$'+(parseFloat(resultado.ganancias_mes_actual)).toLocaleString('en');\r\n            ganancias_3_meses.textContent = '$'+(parseFloat(resultado.ganancias_3_meses)).toLocaleString('en');\r\n            pendientes.textContent = resultado.pendientes;\r\n            reparados.textContent = resultado.reparados\r\n            cerrados.textContent = resultado.cerrados\r\n        }\r\n    }\r\n})();","(function(){\r\n    const loginForm = document.querySelector('#loginForm');\r\n\r\n    if(loginForm){\r\n\r\n        const email =  document.querySelector('#email');\r\n        const password =  document.querySelector('#password');\r\n        const btnSubmit = document.querySelector('#btnSubmit');\r\n        inicializarValidador();\r\n\r\n\r\n        async function enviarDatos(){\r\n            btnSubmit.disabled=true;\r\n            const datos = new FormData();\r\n            datos.append('email', (email.value).trim())\r\n            datos.append('password', password.value);\r\n            \r\n            try {\r\n                const url = '/usuario/login';\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method:'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                elimiarToastAnterior();\r\n                if(resultado.type=='error'){\r\n                    btnSubmit.disabled=false;\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n                  if(resultado.roll==1){\r\n                    window.location.href = '/inicio'\r\n                  }\r\n                  if(resultado.roll==2){\r\n                \r\n                    window.location.href = '/clientes'\r\n                  }\r\n                    \r\n                }\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n        function elimiarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n\r\n        function inicializarValidador() {\r\n          console.log('asdf')\r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                 \r\n                enviarDatos();\r\n                    \r\n              }\r\n            });\r\n    \r\n             $('#loginForm').validate({\r\n              rules: {\r\n               \r\n                email: {\r\n                  required: true\r\n                },\r\n                password:{\r\n                    required: true,\r\n                }\r\n              },\r\n              messages: {\r\n               \r\n                email: {\r\n                  required: \"El usuario es obligatorio\"\r\n                },\r\n                password: {\r\n                    required: \"El password es obligatorio\",\r\n                }\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#loginForm').on('valid', function(event) {\r\n            inicializarValidador();\r\n        });\r\n    }\r\n})();","\r\n\r\n(function(){\r\n\r\n    const usuarios = document.querySelector('#usuarios');\r\n    if(usuarios){\r\n\r\n        \r\n        let tablaUsuarios; //para el datatable\r\n        let id = null; //si tengo id es update si no lo tengo es create\r\n     \r\n        const btnRegistrarUsuario = document.querySelector('#registrar');\r\n        const formulario = document.querySelector('#usuarioForm');\r\n        const btnSubmit = document.querySelector('#btnSubmit');\r\n        const nombre = document.querySelector('#nombre')\r\n        const email = document.querySelector('#email')\r\n        const estado = document.querySelector('#estado')\r\n        const roll = document.querySelector('#roll')\r\n        const password = document.querySelector('#password');\r\n    \r\n\r\n        //disparamos el modal\r\n        btnRegistrarUsuario.addEventListener('click',function(){\r\n            id=null;\r\n            accionesModal();\r\n        })\r\n        \r\n        mostrarUsuarios();\r\n        verificarCargaTabla();\r\n       \r\n\r\n        function mostrarUsuarios(){\r\n \r\n            $(\"#tabla\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaUsuarios = $('#tabla').DataTable({\r\n                ajax: '/api/usuarios',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true,\r\n                initComplete: function () {\r\n                    // Inicializa los botones después de que la tabla se haya creado\r\n                    var buttons = new $.fn.dataTable.Buttons(tablaUsuarios, {\r\n                        buttons: [\"copy\", \"csv\", \"excel\", \"pdf\", \"print\", \"colvis\"]\r\n                    }).container().appendTo('#tabla_wrapper .col-md-6:eq(0)');\r\n                }\r\n            });\r\n       \r\n        }  \r\n\r\n        function verificarCargaTabla(){\r\n            tablaUsuarios.on('draw', eventosClickEditar);\r\n        }\r\n\r\n        function eventosClickEditar(){\r\n            const btnsEditar = document.querySelectorAll('#editar');\r\n            \r\n            btnsEditar.forEach(btnEditar=>{\r\n                btnEditar.addEventListener('click', function(e){\r\n                    id=e.currentTarget.dataset.usuarioId;\r\n                    accionesModal()\r\n                })\r\n            })\r\n\r\n            const btnEliminar = document.querySelectorAll('#eliminar');\r\n            btnEliminar.forEach(btnEliminar=>{\r\n                btnEliminar.addEventListener('click', function(e){\r\n                    const idUsuario = e.currentTarget.dataset.usuarioId;\r\n                    alertaEliminarUsuario(idUsuario,e);\r\n                })\r\n            })\r\n        }\r\n\r\n        function alertaEliminarUsuario(id, e){\r\n            const nombre = e.currentTarget.parentElement.parentElement.parentElement.childNodes[1].textContent;\r\n            Swal.fire({\r\n                icon:'warning',\r\n                html: `<h2 class=\"\">esta seguro de eliminar al usuario <span class=\"font-weight-bold\"> ${nombre} </span>?</h2><br><p>Esta acción no se puede deshacer</p>`,\r\n          \r\n                showCancelButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                cancelButtonText: `Cancelar`,\r\n                \r\n\r\n            }).then(result=>{\r\n                if(result.isConfirmed){\r\n                    eliminarUsuario(id)\r\n                }\r\n            })\r\n        }\r\n\r\n        async function eliminarUsuario(id){\r\n            const datos = new FormData();\r\n            datos.append('id', id)\r\n            url = `${location.origin}/usuario/eliminar`;\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                \r\n             \r\n             \r\n                eliminarToastAnterior();\r\n            \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },8000)\r\n\r\n                 \r\n                    tablaUsuarios.ajax.reload(); \r\n                }\r\n            } catch (error) { \r\n                console.log(error) \r\n            }\r\n        }\r\n        \r\n        function accionesModal(){\r\n            $('#usuarioForm').validate().destroy(); \r\n            formulario.reset();\r\n            btnSubmit.disabled = false;\r\n\r\n            limpiarSelect(estado)\r\n            limpiarSelect(roll)\r\n\r\n            const optionDisabledEstado = document.createElement('OPTION');\r\n            optionDisabledEstado.setAttribute('disabled', 'disabled')\r\n            optionDisabledEstado.setAttribute('selected', 'selected')\r\n            optionDisabledEstado.textContent = '--Seleccione--';\r\n            \r\n            const optionEstado = document.createElement('OPTION');\r\n            optionEstado.value = 0;\r\n            optionEstado.textContent = 'Inactivo';\r\n            const optionEstado1 = document.createElement('OPTION');\r\n            optionEstado1.value = 1;\r\n            optionEstado1.textContent = 'Activo';\r\n\r\n            const optionDisabledRoll = document.createElement('OPTION');\r\n            optionDisabledRoll.setAttribute('disabled', 'disabled')\r\n            optionDisabledRoll.setAttribute('selected', 'selected')\r\n            optionDisabledRoll.textContent = '--Seleccione--';\r\n            \r\n            const optionRoll = document.createElement('OPTION');\r\n            optionRoll.value = 0;\r\n            optionRoll.textContent = 'Vendedor';\r\n            const optionRoll1 = document.createElement('OPTION');\r\n            optionRoll1.value = 1;\r\n            optionRoll1.textContent = 'Administrador';\r\n            const optionRoll2 = document.createElement('OPTION');\r\n            optionRoll2.value = 2;\r\n            optionRoll2.textContent = 'Cliente';\r\n            \r\n            estado.appendChild(optionDisabledEstado)\r\n            estado.appendChild(optionEstado)\r\n            estado.appendChild(optionEstado1)\r\n            roll.appendChild(optionDisabledRoll)\r\n            roll.appendChild(optionRoll)\r\n            roll.appendChild(optionRoll1)\r\n            roll.appendChild(optionRoll2)\r\n\r\n            $('#modal-usuario').modal('show');\r\n            inicializarValidador();\r\n            if(id){\r\n                consultarUsuario();\r\n            }\r\n        }\r\n\r\n        async function consultarUsuario(){\r\n            try {\r\n                const respuesta = await fetch(`/api/usuario?id=${id}`);\r\n                const resultado = await respuesta.json();\r\n                llenarFormulario(resultado);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        function llenarFormulario(resultado){\r\n           \r\n            \r\n            nombre.value = resultado.nombre;\r\n            email.value = resultado.email;\r\n       \r\n            const optionEstado = estado.querySelector('option[value=\"' + resultado.estado + '\"]');\r\n            optionEstado.setAttribute(\"selected\", \"selected\");\r\n            const optionRoll = roll.querySelector('option[value=\"' + resultado.roll + '\"]');\r\n            optionRoll.setAttribute(\"selected\", \"selected\");\r\n       \r\n        }\r\n         \r\n     \r\n        async function enviarDatos(){\r\n          \r\n            const datos = new FormData();\r\n            if(id){\r\n                datos.append('id', id)\r\n            }\r\n            datos.append('nombre', (nombre.value).trim());\r\n            datos.append('email', email.value);\r\n            datos.append('estado', estado.value);\r\n            datos.append('roll', roll.value);\r\n            datos.append('password', password.value);\r\n         \r\n            btnSubmit.disabled = true;\r\n            let url = '';\r\n            if(id){\r\n                url = `${location.origin}/usuario/editar`;\r\n            }else{\r\n                url = `${location.origin}/usuario/crear`;\r\n            }\r\n            \r\n\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n              //(Object.keys(resultado)[0])\r\n                console.log(resultado)\r\n                btnSubmit.disabled = false;\r\n                eliminarToastAnterior();\r\n                btnSubmit.disabled = false;\r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-primary',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },4000)\r\n\r\n                    formulario.reset();\r\n                 \r\n                    $('#modal-usuario').modal('hide');\r\n                    tablaUsuarios.ajax.reload(); \r\n                }\r\n   \r\n            } catch (error) {  \r\n            }\r\n        }\r\n        \r\n      \r\n\r\n        function eliminarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n        function limpiarSelect(referencia){\r\n            \r\n            while(referencia.firstChild){\r\n                referencia.removeChild(referencia.firstChild)\r\n            }\r\n            \r\n        }\r\n        function inicializarValidador() {\r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                 \r\n                        enviarDatos();\r\n                        \r\n\r\n                    \r\n              }\r\n            });\r\n            let passwordRules = {}\r\n            let passwordMsg = {}\r\n        \r\n            if(!id){\r\n       \r\n                passwordRules = {\r\n                    required: true,\r\n                    minlength: 6   \r\n                }\r\n                passwordMsg = {\r\n                        required: \"El password es obligatorio\",\r\n                        minlength: \"El Password debe tener al menos 6 caracteres\"\r\n                }\r\n                \r\n            }\r\n    \r\n             $('#usuarioForm').validate({\r\n              rules: {\r\n                nombre: {\r\n                    required: true\r\n                },\r\n                email: {\r\n                  required: true\r\n                },\r\n                estado:{\r\n                    required: true,\r\n                },\r\n                roll:{\r\n                    required: true,\r\n                },\r\n                password: passwordRules,\r\n                terms: {\r\n                  required: true\r\n                },\r\n              },\r\n              messages: {\r\n                nombre: {\r\n                    required: \"El nombre es obligatorio\"\r\n                },\r\n                email: {\r\n                  required: \"El email es obligatorio\"\r\n                },\r\n                estado:{\r\n                    required: 'el estado es obligatorio',\r\n                },\r\n                roll:{\r\n                    required: 'el Roll es obligatorio',\r\n                },\r\n                password: passwordMsg\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#usuarioForm').on('valid', function(event) {\r\n            inicializarValidador();\r\n        });\r\n    }\r\n})();\r\n\r\n"]}