{"version":3,"sources":["cliente/accionesCliente.js","cliente/costosExtras.js","cliente/navCliente.js","cliente/notificacionCliente.js","usuarios/login.js","usuarios/usuario.js","inicio/inicioDashboard.js","reparaciones/accionesReparacion.js","reparaciones/navReparaciones.js","reparaciones/notificaciones.js","reparaciones/reparacion-ingresos.js","reparaciones/reparacion.js","reparaciones/reparaciones.js"],"names":["document","querySelector","btnEstadoReparacion","btnTotalReparacion","btnImprimirReparacion","async","inputHiden","url","dataset","reparacionId","respuesta","fetch","resultado","json","estado","classList","add","textContent","remove","addEventListener","alertaCambiarEstado","setearEstado","innerHTML","total_pagar","parseFloat","valor_final","abono","costo_final","toLocaleString","setearTotal","e","console","log","setearImpresion","error","consultarEstado","totalIngresosSpan","tabla","tBody","createElement","totalIngresos","reduce","acumulador","infoIngreso","ingreso","forEach","id","descripcion","reparacion_id","tr","tdValor","style","minWidth","tdDescripcion","appendChild","mostrarIngresos","obtenerIngresos","general","notificaciones","avanzado","info_general","info_notificaciones","info_avanzado","querySelectorAll","dNone","referencia","firstChild","removeChild","limpiarHtml","numero","infoNotificacion","mensaje","imagenes","td","div","parrafo","carrousel","ride","maxWidth","padding","ol","carrouselInner","i","imagen","li","target","slideTo","carrouselItem","img","src","prev","href","setAttribute","slide","next","mostrarNotificaciones","obtenerNotificaciones","email","password","btnSubmit","enviarDatos","disabled","datos","FormData","append","trim","value","body","method","type","$","Toasts","class","title","msg","roll","window","location","inicializarValidador","validator","setDefaults","submitHandler","validate","rules","required","messages","errorElement","errorPlacement","element","addClass","closest","highlight","errorClass","validClass","unhighlight","removeClass","on","event","tablaUsuarios","btnRegistrarUsuario","formulario","nombre","eventosClickEditar","btnEditar","currentTarget","usuarioId","accionesModal","btnEliminar","parentElement","childNodes","Swal","fire","icon","html","showCancelButton","confirmButtonText","cancelButtonText","then","result","isConfirmed","eliminarToastAnterior","setTimeout","ajax","reload","eliminarUsuario","alertaEliminarUsuario","destroy","reset","limpiarSelect","optionDisabledEstado","optionEstado","optionEstado1","optionDisabledRoll","optionRoll","optionRoll1","optionRoll2","modal","llenarFormulario","consultarUsuario","passwordRules","passwordMsg","minlength","terms","dataTable","fnDestroy","DataTable","deferRender","retrieve","proccesing","responsive","initComplete","fn","Buttons","buttons","container","appendTo","ingresos","gastos","ganancias","ganancias_mes_actual","ganancias_3_meses","pendientes","reparados","cerrados","ingresos_totales","gastos_totales","imprimirResultados","consultarInfo","obtenerIdUrl","parseInt","cliente_id","cambiarEstado","btoa","open","imprimirReparado","urlObj","URL","searchParams","get","btnSubmitNotificacion","agregar_notificacion","formularioNotificaciones","contenedorImagenes","inicializarValidadorNofiticacion","files","length","enviarDatosNotifiacion","file","reader","FileReader","onload","image","readAsDataURL","idIngreso","agregar_ingreso","formularioIngresos","btnSubmitIngreso","tdOpciones","onclick","llenarFormularioIngreso","ingresoInfo","eliminarIngreso","inicializarValidadorIngreso","enviarDatosIngreso","valor","valor_sin_formato","replace","isNaN","formateraValorIngreso","idCosto","agregar_costo","formularioCostos","costo","btnSubmitCosto","totalCostosSpan","obtenerCostos","totalCostos","infoCosto","llenarFormularioCosto","costoInfo","eliminarCosto","mostrarCostos","inicializarValidadorCosto","enviarDatosCosto","formateraValorCosto","tablaReparaciones","marcasArray","direccion","marca","cedula_nit","celular","modelo","imei_1","imei_2","falla","proceso","valor_convenido","saldo","cargador","bateria","tapa","estuche","sim","sd","observacion","btnRegistrarReparacion","formaterValor","accesorios","JSON","parse","llenarSelect","readOnly","checked","consultarReparacion","checkOBJ","stringify","formatearCheckBox","digits","maxlength","optionSeleccionado","marcaCelular","opcion","selected","SIM","SD","cliente","eliminarReparacion","alertaEliminarReparacion","imprimirReparacion","valor_acordado","valor_acordado_sin_formato","saldo_pendiente","valor_formateado","calcularDiferencia","select2","theme"],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){\r\n    const navReparacion = document.querySelector('#navReparacionCliente');\r\n    if(navReparacion){\r\n        const btnEstadoReparacion = document.querySelector('#btnEstadoReparacion');\r\n        const btnTotalReparacion = document.querySelector('#btnTotalReparacion');\r\n        const btnImprimirReparacion = document.querySelector('#btnImprimirReparacion');\r\n        consultarEstado();\r\n\r\n        \r\n        async function consultarEstado(){\r\n            const inputHiden = document.querySelector('#idReparacion');\r\n            const id = inputHiden.dataset.reparacionId;\r\n           \r\n            const url = `http://localhost:3000/api/reparacion/estado-actual?id=${id}`;\r\n            \r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n                setearEstado(resultado);\r\n                setearTotal(resultado);\r\n                setearImpresion(resultado);\r\n              \r\n                \r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n\r\n        function setearEstado(resultado){\r\n            if(resultado.estado==0){\r\n                btnEstadoReparacion.classList.add('bg-secondary');\r\n                btnEstadoReparacion.textContent = 'Pendiente'\r\n            }\r\n            \r\n            if(resultado.estado==1){\r\n                btnEstadoReparacion.classList.remove('bg-secondary');\r\n                btnEstadoReparacion.classList.add('bg-success');\r\n                btnEstadoReparacion.textContent = 'Reparado'\r\n            }if(resultado.estado==2){\r\n                btnEstadoReparacion.classList.remove('bg-success');\r\n                btnEstadoReparacion.classList.add('bg-danger');\r\n                btnEstadoReparacion.textContent = 'Cerrado'\r\n            }\r\n            btnEstadoReparacion.dataset.estado = resultado.estado;\r\n            if(resultado.estado!=2){\r\n                btnEstadoReparacion.addEventListener('click', function(){\r\n                    alertaCambiarEstado(resultado)\r\n                })\r\n            }\r\n               \r\n           \r\n        }\r\n        function setearTotal(resultado){\r\n            if(resultado.estado==0){\r\n                btnTotalReparacion.innerHTML = `Total: <strong></strong>`\r\n            }else{\r\n                const total_pagar = parseFloat(resultado.valor_final)-parseFloat(resultado.abono)+parseFloat(resultado.costo_final)\r\n                btnTotalReparacion.innerHTML = `Total: <strong>$${(parseFloat(total_pagar)).toLocaleString('en')}</strong>`\r\n            }\r\n            \r\n            \r\n        }\r\n        function setearImpresion(resultado){\r\n            \r\n            if(resultado.estado != 0){\r\n           \r\n                btnImprimirReparacion.addEventListener('click', function(e){\r\n                    console.log('imprimiendo')\r\n                })  \r\n            }\r\n        }\r\n       \r\n    }\r\n})();","(function(){\r\n  \r\n    const costosCliente = document.querySelector('#tabla-costos-cliente');\r\n   \r\n    if(costosCliente){\r\n        \r\n        const totalIngresosSpan = document.querySelector('#totalIngresos');\r\n        obtenerIngresos()\r\n        async function obtenerIngresos(){\r\n            \r\n            const inputHiden = document.querySelector('#idReparacion');\r\n            const id = inputHiden.dataset.reparacionId;\r\n            const url =`http://localhost:3000/api/reparacion/ingresos?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n            \r\n                mostrarIngresos(resultado);\r\n            } catch (error) {\r\n                \r\n            }\r\n\r\n        }\r\n        function mostrarIngresos(resultado){\r\n          \r\n          console.log(resultado)          \r\n            const tabla = document.querySelector('#tabla-costos-cliente');\r\n     \r\n            \r\n       \r\n          \r\n            const tBody = document.createElement('tbody')\r\n           \r\n       \r\n            const totalIngresos = resultado.reduce(function(acumulador, infoIngreso) {\r\n                return acumulador + parseFloat(infoIngreso.ingreso)\r\n              }, 0); \r\n     \r\n            \r\n            totalIngresosSpan.textContent = totalIngresos.toLocaleString('en')\r\n           \r\n            \r\n            resultado.forEach(infoIngreso => {\r\n                 const {id, ingreso, descripcion, reparacion_id} = infoIngreso;\r\n         \r\n                const tr = document.createElement('tr');\r\n\r\n                const tdValor = document.createElement('td');\r\n                tdValor.classList.add('py-2');\r\n                tdValor.style.minWidth = '130px'\r\n                tdValor.innerHTML = `Valor: $<strong>${parseFloat(ingreso).toLocaleString('en')}</strong>`\r\n            \r\n\r\n\r\n                const tdDescripcion = document.createElement('td');\r\n                tdDescripcion.classList.add('py-2');\r\n                \r\n                tdDescripcion.innerHTML = `Descripcion: <strong style=\"max-width:30px !important\">${descripcion}</strong>`\r\n\r\n                \r\n              \r\n\r\n             \r\n\r\n                tr.appendChild(tdValor)\r\n                tr.appendChild(tdDescripcion)\r\n       \r\n     \r\n                tBody.appendChild(tr)\r\n\r\n\r\n            });\r\n          \r\n            tabla.appendChild(tBody)\r\n        }\r\n        function limpiarHtml(referencia){\r\n            while(referencia.firstChild){\r\n              referencia.removeChild(referencia.firstChild)\r\n            }\r\n        }\r\n    }\r\n\r\n})();","(function(){\r\n    const navReparacion = document.querySelector('#navReparacionCliente');\r\n    if(navReparacion){\r\n        const general = document.querySelector('#general');\r\n        const notificaciones = document.querySelector('#notificaciones');\r\n        const avanzado = document.querySelector('#avanzado');\r\n        const info_general = document.querySelector('#info_general');\r\n        const info_notificaciones = document.querySelector('#info_notificaciones');\r\n        const info_avanzado = document.querySelector('#info_avanzado');\r\n\r\n        general.addEventListener('click',()=>{\r\n            const active = document.querySelector('.active-nav');\r\n            active.classList.remove('active-nav')\r\n            general.classList.add('active-nav')\r\n\r\n            const dNones = document.querySelectorAll('.d-none');\r\n            dNones.forEach(dNone=>{\r\n                dNone.classList.remove('d-none')\r\n            })\r\n            info_notificaciones.classList.add('d-none')\r\n            info_avanzado.classList.add('d-none')\r\n            \r\n          \r\n        })\r\n        notificaciones.addEventListener('click',()=>{\r\n            const active = document.querySelector('.active-nav');\r\n            active.classList.remove('active-nav')\r\n            notificaciones.classList.add('active-nav')\r\n\r\n            const dNones = document.querySelectorAll('.d-none');\r\n            dNones.forEach(dNone=>{\r\n                dNone.classList.remove('d-none')\r\n            })\r\n            info_general.classList.add('d-none')\r\n            info_avanzado.classList.add('d-none')\r\n        })\r\n        avanzado.addEventListener('click',()=>{/*  */\r\n            const active = document.querySelector('.active-nav');\r\n            active.classList.remove('active-nav')\r\n            avanzado.classList.add('active-nav')\r\n\r\n            const dNones = document.querySelectorAll('.d-none');\r\n            dNones.forEach(dNone=>{\r\n                dNone.classList.remove('d-none')\r\n            })\r\n            info_notificaciones.classList.add('d-none')\r\n            info_general.classList.add('d-none')\r\n        })\r\n    }\r\n})();","(function(){\r\n    const tablaNotificacionesCliente = document.querySelector('#tabla-notificaciones-cliente');\r\n    if(tablaNotificacionesCliente){\r\n        const contenedorImagenes = document.querySelector(\"#contenedorImganes\");\r\n        obtenerNotificaciones();\r\n        \r\n        async function obtenerNotificaciones(){\r\n            const inputHiden = document.querySelector('#idReparacion');\r\n            const id = inputHiden.dataset.reparacionId;\r\n            const url =`http://localhost:3000/api/reparacion/notificaciones?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n         \r\n        \r\n                mostrarNotificaciones(resultado);\r\n            } catch (error) {\r\n                \r\n            }\r\n  \r\n          }\r\n          function mostrarNotificaciones(resultado){\r\n          \r\n         \r\n            const tabla = document.querySelector('#tabla-notificaciones-cliente');\r\n            limpiarHtml(tabla)\r\n           \r\n            const tBody = document.createElement('tbody')\r\n         \r\n            let numero = 0;\r\n            resultado.forEach(infoNotificacion => {\r\n              numero++;\r\n                const {id, mensaje, imagenes} = infoNotificacion;\r\n           \r\n  \r\n                const tr = document.createElement('tr');\r\n                const td = document.createElement('TD')\r\n                const div = document.createElement('DIV');\r\n                div.classList.add('row', 'd-flex', 'justify-content-between')\r\n                \r\n                const parrafo = document.createElement('P');\r\n                parrafo.classList.add('col-md-8');\r\n  \r\n                parrafo.innerHTML = `<strong>Mensaje:</strong><br>${mensaje}`;\r\n                \r\n              \r\n                const carrousel = document.createElement('DIV');\r\n                carrousel.id = `carousel_${numero}`;\r\n                carrousel.classList.add('carousel', 'slide', 'float-right');\r\n            \r\n                carrousel.dataset.ride = \"carousel\";\r\n                carrousel.style.maxWidth = \"350px\"\r\n              \r\n                carrousel.style.padding = \"10px\"\r\n                \r\n  \r\n                const ol = document.createElement('OL');\r\n                ol.classList.add('carousel-indicators');\r\n              \r\n                const carrouselInner = document.createElement('DIV');\r\n                carrouselInner.classList.add(\"carousel-inner\");\r\n                let i = 1;\r\n               \r\n        \r\n                imagenes.forEach(imagen => {\r\n                  if(imagen!=''){\r\n                      const li = document.createElement('LI');\r\n                      li.dataset.target = `#carousel_${numero}`\r\n                      li.dataset.slideTo = `${i}`;\r\n                  \r\n                      const carrouselItem = document.createElement('DIV');\r\n        \r\n                      carrouselItem.classList.add('carousel-item');\r\n                  \r\n                      const img = document.createElement('IMG');\r\n                      img.classList.add('d-block', 'w-100')\r\n                      img.src = `/img/notificaciones/${imagen}.png`;\r\n                \r\n                    \r\n                      \r\n                      if(i==1){\r\n                        li.classList.add('active');\r\n                        carrouselItem.classList.add('active');\r\n                      }\r\n                      ol.appendChild(li);\r\n                      carrouselItem.appendChild(img)\r\n                    \r\n                      carrouselInner.appendChild(carrouselItem);\r\n    \r\n                      i++;\r\n                  }\r\n                });\r\n                \r\n               \r\n              \r\n                const prev = document.createElement('A');\r\n           \r\n                prev.classList.add('carousel-control-prev');\r\n       \r\n                prev.href = `#carousel_${numero}`;\r\n                prev.setAttribute(\"role\", \"button\");\r\n                prev.dataset.slide = \"prev\";\r\n  \r\n                prev.innerHTML = `\r\n                            <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                            <span class=\"sr-only\">Previous</span>\r\n                `\r\n  \r\n                  \r\n                const next = document.createElement('A');\r\n           \r\n                next.classList.add('carousel-control-next');\r\n       \r\n                next.href = `#carousel_${numero}`;\r\n                next.setAttribute(\"role\", \"button\");\r\n                next.dataset.slide = \"next\";\r\n  \r\n                next.innerHTML = ` \r\n                            <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                            <span class=\"sr-only\">Next</span>\r\n                `\r\n         \r\n                carrousel.appendChild(ol)\r\n                carrousel.appendChild(carrouselInner);\r\n                carrousel.appendChild(prev);\r\n                carrousel.appendChild(next);\r\n             \r\n                div.appendChild(parrafo)\r\n                div.appendChild(carrousel)\r\n                td.appendChild(div);\r\n        \r\n                tr.appendChild(td)\r\n     \r\n                tBody.appendChild(tr)\r\n                \r\n            \r\n                \r\n            });\r\n        \r\n        \r\n         \r\n            tabla.appendChild(tBody)\r\n       \r\n     \r\n        }\r\n        function limpiarHtml(referencia){\r\n            while(referencia.firstChild){\r\n              referencia.removeChild(referencia.firstChild)\r\n            }\r\n        }\r\n    }\r\n})();","(function(){\r\n    const loginForm = document.querySelector('#loginForm');\r\n\r\n    if(loginForm){\r\n\r\n        const email =  document.querySelector('#email');\r\n        const password =  document.querySelector('#password');\r\n        const btnSubmit = document.querySelector('#btnSubmit');\r\n        inicializarValidador();\r\n\r\n\r\n        async function enviarDatos(){\r\n            btnSubmit.disabled=true;\r\n            const datos = new FormData();\r\n            datos.append('email', (email.value).trim())\r\n            datos.append('password', password.value);\r\n            \r\n            try {\r\n                const url = '/usuario/login';\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method:'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                elimiarToastAnterior();\r\n                if(resultado.type=='error'){\r\n                    btnSubmit.disabled=false;\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n                  if(resultado.roll==1){\r\n                    window.location.href = '/inicio'\r\n                  }\r\n                  if(resultado.roll==2){\r\n                \r\n                    window.location.href = '/clientes'\r\n                  }\r\n                    \r\n                }\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n        function elimiarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n\r\n        function inicializarValidador() {\r\n          console.log('asdf')\r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                 \r\n                enviarDatos();\r\n                    \r\n              }\r\n            });\r\n    \r\n             $('#loginForm').validate({\r\n              rules: {\r\n               \r\n                email: {\r\n                  required: true\r\n                },\r\n                password:{\r\n                    required: true,\r\n                }\r\n              },\r\n              messages: {\r\n               \r\n                email: {\r\n                  required: \"El usuario es obligatorio\"\r\n                },\r\n                password: {\r\n                    required: \"El password es obligatorio\",\r\n                }\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#loginForm').on('valid', function(event) {\r\n            inicializarValidador();\r\n        });\r\n    }\r\n})();","\r\n\r\n(function(){\r\n\r\n    const usuarios = document.querySelector('#usuarios');\r\n    if(usuarios){\r\n\r\n        \r\n        let tablaUsuarios; //para el datatable\r\n        let id = null; //si tengo id es update si no lo tengo es create\r\n     \r\n        const btnRegistrarUsuario = document.querySelector('#registrar');\r\n        const formulario = document.querySelector('#usuarioForm');\r\n        const btnSubmit = document.querySelector('#btnSubmit');\r\n        const nombre = document.querySelector('#nombre')\r\n        const email = document.querySelector('#email')\r\n        const estado = document.querySelector('#estado')\r\n        const roll = document.querySelector('#roll')\r\n        const password = document.querySelector('#password');\r\n    \r\n\r\n        //disparamos el modal\r\n        btnRegistrarUsuario.addEventListener('click',function(){\r\n            id=null;\r\n            accionesModal();\r\n        })\r\n        \r\n        mostrarUsuarios();\r\n        verificarCargaTabla();\r\n       \r\n\r\n        function mostrarUsuarios(){\r\n \r\n            $(\"#tabla\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaUsuarios = $('#tabla').DataTable({\r\n                ajax: '/api/usuarios',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true,\r\n                initComplete: function () {\r\n                    // Inicializa los botones despus de que la tabla se haya creado\r\n                    var buttons = new $.fn.dataTable.Buttons(tablaUsuarios, {\r\n                        buttons: [\"copy\", \"csv\", \"excel\", \"pdf\", \"print\", \"colvis\"]\r\n                    }).container().appendTo('#tabla_wrapper .col-md-6:eq(0)');\r\n                }\r\n            });\r\n       \r\n        }  \r\n\r\n        function verificarCargaTabla(){\r\n            tablaUsuarios.on('draw', eventosClickEditar);\r\n        }\r\n\r\n        function eventosClickEditar(){\r\n            const btnsEditar = document.querySelectorAll('#editar');\r\n            \r\n            btnsEditar.forEach(btnEditar=>{\r\n                btnEditar.addEventListener('click', function(e){\r\n                    id=e.currentTarget.dataset.usuarioId;\r\n                    accionesModal()\r\n                })\r\n            })\r\n\r\n            const btnEliminar = document.querySelectorAll('#eliminar');\r\n            btnEliminar.forEach(btnEliminar=>{\r\n                btnEliminar.addEventListener('click', function(e){\r\n                    const idUsuario = e.currentTarget.dataset.usuarioId;\r\n                    alertaEliminarUsuario(idUsuario,e);\r\n                })\r\n            })\r\n        }\r\n\r\n        function alertaEliminarUsuario(id, e){\r\n            const nombre = e.currentTarget.parentElement.parentElement.parentElement.childNodes[1].textContent;\r\n            Swal.fire({\r\n                icon:'warning',\r\n                html: `<h2 class=\"\">esta seguro de eliminar al usuario <span class=\"font-weight-bold\"> ${nombre} </span>?</h2><br><p>Esta accin no se puede deshacer</p>`,\r\n          \r\n                showCancelButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                cancelButtonText: `Cancelar`,\r\n                \r\n\r\n            }).then(result=>{\r\n                if(result.isConfirmed){\r\n                    eliminarUsuario(id)\r\n                }\r\n            })\r\n        }\r\n\r\n        async function eliminarUsuario(id){\r\n            const datos = new FormData();\r\n            datos.append('id', id)\r\n            url = 'http://localhost:3000/usuario/eliminar';\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                \r\n             \r\n             \r\n                eliminarToastAnterior();\r\n            \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },8000)\r\n\r\n                 \r\n                    tablaUsuarios.ajax.reload(); \r\n                }\r\n            } catch (error) { \r\n                console.log(error) \r\n            }\r\n        }\r\n        \r\n        function accionesModal(){\r\n            $('#usuarioForm').validate().destroy(); \r\n            formulario.reset();\r\n            btnSubmit.disabled = false;\r\n\r\n            limpiarSelect(estado)\r\n            limpiarSelect(roll)\r\n\r\n            const optionDisabledEstado = document.createElement('OPTION');\r\n            optionDisabledEstado.setAttribute('disabled', 'disabled')\r\n            optionDisabledEstado.setAttribute('selected', 'selected')\r\n            optionDisabledEstado.textContent = '--Seleccione--';\r\n            \r\n            const optionEstado = document.createElement('OPTION');\r\n            optionEstado.value = 0;\r\n            optionEstado.textContent = 'Inactivo';\r\n            const optionEstado1 = document.createElement('OPTION');\r\n            optionEstado1.value = 1;\r\n            optionEstado1.textContent = 'Activo';\r\n\r\n            const optionDisabledRoll = document.createElement('OPTION');\r\n            optionDisabledRoll.setAttribute('disabled', 'disabled')\r\n            optionDisabledRoll.setAttribute('selected', 'selected')\r\n            optionDisabledRoll.textContent = '--Seleccione--';\r\n            \r\n            const optionRoll = document.createElement('OPTION');\r\n            optionRoll.value = 0;\r\n            optionRoll.textContent = 'Vendedor';\r\n            const optionRoll1 = document.createElement('OPTION');\r\n            optionRoll1.value = 1;\r\n            optionRoll1.textContent = 'Administrador';\r\n            const optionRoll2 = document.createElement('OPTION');\r\n            optionRoll2.value = 2;\r\n            optionRoll2.textContent = 'Cliente';\r\n            \r\n            estado.appendChild(optionDisabledEstado)\r\n            estado.appendChild(optionEstado)\r\n            estado.appendChild(optionEstado1)\r\n            roll.appendChild(optionDisabledRoll)\r\n            roll.appendChild(optionRoll)\r\n            roll.appendChild(optionRoll1)\r\n            roll.appendChild(optionRoll2)\r\n\r\n            $('#modal-usuario').modal('show');\r\n            inicializarValidador();\r\n            if(id){\r\n                consultarUsuario();\r\n            }\r\n        }\r\n\r\n        async function consultarUsuario(){\r\n            try {\r\n                const respuesta = await fetch(`/api/usuario?id=${id}`);\r\n                const resultado = await respuesta.json();\r\n                llenarFormulario(resultado);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        function llenarFormulario(resultado){\r\n           \r\n            \r\n            nombre.value = resultado.nombre;\r\n            email.value = resultado.email;\r\n       \r\n            const optionEstado = estado.querySelector('option[value=\"' + resultado.estado + '\"]');\r\n            optionEstado.setAttribute(\"selected\", \"selected\");\r\n            const optionRoll = roll.querySelector('option[value=\"' + resultado.roll + '\"]');\r\n            optionRoll.setAttribute(\"selected\", \"selected\");\r\n       \r\n        }\r\n         \r\n     \r\n        async function enviarDatos(){\r\n          \r\n            const datos = new FormData();\r\n            if(id){\r\n                datos.append('id', id)\r\n            }\r\n            datos.append('nombre', (nombre.value).trim());\r\n            datos.append('email', email.value);\r\n            datos.append('estado', estado.value);\r\n            datos.append('roll', roll.value);\r\n            datos.append('password', password.value);\r\n         \r\n            btnSubmit.disabled = true;\r\n            let url = '';\r\n            if(id){\r\n                url = 'http://localhost:3000/usuario/editar';\r\n            }else{\r\n                url = 'http://localhost:3000/usuario/crear';\r\n            }\r\n            \r\n\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n              //(Object.keys(resultado)[0])\r\n                console.log(resultado)\r\n                btnSubmit.disabled = false;\r\n                eliminarToastAnterior();\r\n                btnSubmit.disabled = false;\r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-primary',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },4000)\r\n\r\n                    formulario.reset();\r\n                 \r\n                    $('#modal-usuario').modal('hide');\r\n                    tablaUsuarios.ajax.reload(); \r\n                }\r\n   \r\n            } catch (error) {  \r\n            }\r\n        }\r\n        \r\n      \r\n\r\n        function eliminarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n        function limpiarSelect(referencia){\r\n            \r\n            while(referencia.firstChild){\r\n                referencia.removeChild(referencia.firstChild)\r\n            }\r\n            \r\n        }\r\n        function inicializarValidador() {\r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                 \r\n                        enviarDatos();\r\n                        \r\n\r\n                    \r\n              }\r\n            });\r\n            let passwordRules = {}\r\n            let passwordMsg = {}\r\n        \r\n            if(!id){\r\n       \r\n                passwordRules = {\r\n                    required: true,\r\n                    minlength: 6   \r\n                }\r\n                passwordMsg = {\r\n                        required: \"El password es obligatorio\",\r\n                        minlength: \"El Password debe tener al menos 6 caracteres\"\r\n                }\r\n                \r\n            }\r\n    \r\n             $('#usuarioForm').validate({\r\n              rules: {\r\n                nombre: {\r\n                    required: true\r\n                },\r\n                email: {\r\n                  required: true\r\n                },\r\n                estado:{\r\n                    required: true,\r\n                },\r\n                roll:{\r\n                    required: true,\r\n                },\r\n                password: passwordRules,\r\n                terms: {\r\n                  required: true\r\n                },\r\n              },\r\n              messages: {\r\n                nombre: {\r\n                    required: \"El nombre es obligatorio\"\r\n                },\r\n                email: {\r\n                  required: \"El email es obligatorio\"\r\n                },\r\n                estado:{\r\n                    required: 'el estado es obligatorio',\r\n                },\r\n                roll:{\r\n                    required: 'el Roll es obligatorio',\r\n                },\r\n                password: passwordMsg\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#usuarioForm').on('valid', function(event) {\r\n            inicializarValidador();\r\n        });\r\n    }\r\n})();\r\n\r\n","(function(){\r\n    const informacionCompleta = document.querySelector('#informacionCompleta');\r\n    if(informacionCompleta){\r\n        const ingresos = document.querySelector('#ingresos')\r\n        const gastos = document.querySelector('#gastos')\r\n        const ganancias = document.querySelector('#ganancias')\r\n        const ganancias_mes_actual = document.querySelector('#ganancias_mes_actual')\r\n        const ganancias_3_meses= document.querySelector('#ganancias_3_meses')\r\n        const pendientes= document.querySelector('#pendientes')\r\n        const reparados= document.querySelector('#reparados')\r\n        const cerrados= document.querySelector('#cerrados')\r\n\r\n        consultarInfo();\r\n        async function consultarInfo(){\r\n            const url = '/api/dashboard';\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n                console.log(resultado)\r\n                imprimirResultados(resultado)\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n\r\n        function imprimirResultados(resultado){\r\n         \r\n            ingresos.textContent = '$'+(parseFloat(resultado.ingresos_totales)).toLocaleString('en');\r\n            gastos.textContent = '$'+(parseFloat(resultado.gastos_totales)).toLocaleString('en');\r\n            ganancias.textContent = '$'+(parseFloat(resultado.ganancias)).toLocaleString('en');\r\n            ganancias_mes_actual.textContent = '$'+(parseFloat(resultado.ganancias_mes_actual)).toLocaleString('en');\r\n            ganancias_3_meses.textContent = '$'+(parseFloat(resultado.ganancias_3_meses)).toLocaleString('en');\r\n            pendientes.textContent = resultado.pendientes;\r\n            reparados.textContent = resultado.reparados\r\n            cerrados.textContent = resultado.cerrados\r\n        }\r\n    }\r\n})();","(function(){\r\n    const btnEstadoReparacion = document.querySelector('#btnEstadoReparacion');\r\n    if(btnEstadoReparacion){\r\n      \r\n        const btnTotalReparacion = document.querySelector('#btnTotalReparacion');\r\n        const btnImprimirReparacion = document.querySelector('#btnImprimirReparacion');\r\n        consultarEstado();\r\n\r\n        async function consultarEstado(){\r\n            const id = obtenerIdUrl();\r\n            const url = `http://localhost:3000/api/reparacion/estado-actual?id=${id}`;\r\n            \r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n            \r\n                setearEstado(resultado);\r\n                setearTotal(resultado);\r\n                setearImpresion(resultado);\r\n                \r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n        function setearEstado(resultado){\r\n            if(resultado.estado==0){\r\n                btnEstadoReparacion.classList.add('bg-secondary');\r\n                btnEstadoReparacion.textContent = 'Pendiente'\r\n            }\r\n            \r\n            if(resultado.estado==1){\r\n                btnEstadoReparacion.classList.remove('bg-secondary');\r\n                btnEstadoReparacion.classList.add('bg-success');\r\n                btnEstadoReparacion.textContent = 'Reparado'\r\n            }if(resultado.estado==2){\r\n                btnEstadoReparacion.classList.remove('bg-success');\r\n                btnEstadoReparacion.classList.add('bg-danger');\r\n                btnEstadoReparacion.textContent = 'Cerrado'\r\n            }\r\n            btnEstadoReparacion.dataset.estado = resultado.estado;\r\n            if(resultado.estado!=2){\r\n                btnEstadoReparacion.addEventListener('click', function(){\r\n                    alertaCambiarEstado(resultado)\r\n                })\r\n            }\r\n               \r\n         \r\n           \r\n        }\r\n        function alertaCambiarEstado(resultado){\r\n            let mensaje = '';\r\n            if(resultado.estado==0){\r\n                mensaje = `<h2 class=\"\">Acepta estar seguro de dar por  <span class=\"font-weight-bold\"> REPARADO </span> el dispositvo?</h2><br><p>Esta accin no se puede deshacer</p> `\r\n            }\r\n            if(resultado.estado==1){\r\n                mensaje = `<h2 class=\"\">Acepta estar seguro de dar por  <span class=\"font-weight-bold\"> FINALIZADA </span> esta reparacin?</h2><br><p>Esta accin no se puede deshacer</p>`\r\n            }\r\n            Swal.fire({\r\n                icon:'warning',\r\n                html: mensaje,\r\n          \r\n                showCancelButton: true,\r\n                confirmButtonText: 'Seguro',\r\n                cancelButtonText: `Cancelar`,\r\n                \r\n\r\n            }).then(result=>{\r\n                if(result.isConfirmed){\r\n                    cambiarEstado(resultado)\r\n                }\r\n            })\r\n        }\r\n        async function cambiarEstado(resultado){\r\n            const estado = parseInt(resultado.estado)+1;\r\n     \r\n            const datos = new FormData();\r\n            datos.append('estado', estado);\r\n            datos.append('reparacion_id', resultado.id)\r\n            datos.append('cliente_id', resultado.cliente_id)\r\n           \r\n            const url = '/api/reparacion/cambiar-estado'\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n              \r\n                eliminarToastAnterior();\r\n            \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },8000)\r\n                    consultarEstado();\r\n                 \r\n                    \r\n                }\r\n            }catch(e){\r\n\r\n            }\r\n            \r\n        }\r\n\r\n        function setearImpresion(resultado){\r\n            \r\n            if(resultado.estado != 0){\r\n           \r\n                btnImprimirReparacion.addEventListener('click',function(){\r\n                    imprimirReparado(resultado.id)\r\n                })\r\n            }\r\n        }\r\n        async function imprimirReparado(id){\r\n          \r\n           \r\n            const url = `/api/factura-finalizada?key=${btoa(id)}`;\r\n            try {\r\n                const respuesta = await fetch(url)\r\n                window.open(url, '_blank');\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n\r\n        function setearTotal(resultado){\r\n            if(resultado.estado==0){\r\n                btnTotalReparacion.innerHTML = `Total: <strong></strong>`\r\n            }else{\r\n                const total_pagar = parseFloat(resultado.valor_final)-parseFloat(resultado.abono)+parseFloat(resultado.costo_final)\r\n                btnTotalReparacion.innerHTML = `Total: <strong>$${(parseFloat(total_pagar)).toLocaleString('en')}</strong>`\r\n            }\r\n            \r\n            \r\n        }\r\n        function obtenerIdUrl(){\r\n         \r\n            const  url = window.location.href;\r\n            const  urlObj = new URL(url);\r\n            return  id = urlObj.searchParams.get(\"id\");\r\n        }\r\n        function eliminarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n          }\r\n    }\r\n})();","(function(){\r\n    const navReparacion = document.querySelector('#navReparacion');\r\n    if(navReparacion){\r\n        const general = document.querySelector('#general');\r\n        const notificaciones = document.querySelector('#notificaciones');\r\n        const avanzado = document.querySelector('#avanzado');\r\n        const info_general = document.querySelector('#info_general');\r\n        const info_notificaciones = document.querySelector('#info_notificaciones');\r\n        const info_avanzado = document.querySelector('#info_avanzado');\r\n\r\n        general.addEventListener('click',()=>{\r\n            const active = document.querySelector('.active-nav');\r\n            active.classList.remove('active-nav')\r\n            general.classList.add('active-nav')\r\n\r\n            const dNones = document.querySelectorAll('.d-none');\r\n            dNones.forEach(dNone=>{\r\n                dNone.classList.remove('d-none')\r\n            })\r\n            info_notificaciones.classList.add('d-none')\r\n            info_avanzado.classList.add('d-none')\r\n            \r\n          \r\n        })\r\n        notificaciones.addEventListener('click',()=>{\r\n            const active = document.querySelector('.active-nav');\r\n            active.classList.remove('active-nav')\r\n            notificaciones.classList.add('active-nav')\r\n\r\n            const dNones = document.querySelectorAll('.d-none');\r\n            dNones.forEach(dNone=>{\r\n                dNone.classList.remove('d-none')\r\n            })\r\n            info_general.classList.add('d-none')\r\n            info_avanzado.classList.add('d-none')\r\n        })\r\n        avanzado.addEventListener('click',()=>{\r\n            const active = document.querySelector('.active-nav');\r\n            active.classList.remove('active-nav')\r\n            avanzado.classList.add('active-nav')\r\n\r\n            const dNones = document.querySelectorAll('.d-none');\r\n            dNones.forEach(dNone=>{\r\n                dNone.classList.remove('d-none')\r\n            })\r\n            info_notificaciones.classList.add('d-none')\r\n            info_general.classList.add('d-none')\r\n        })\r\n    }\r\n})();","(function(){\r\n    const tablaNotificaciones = document.querySelector('#tabla-notificaciones');\r\n    if(tablaNotificaciones){\r\n        const btnSubmitNotificacion = document.querySelector('#btnSubmitNotificacion')\r\n        const agregar_notificacion= document.querySelector('#agregar-notificacion');\r\n        const formularioNotificaciones = document.querySelector('#notificacionForm');\r\n        const mensaje = document.querySelector('#mensaje');\r\n        const imagenes = document.querySelector('#imagenes');\r\n        const contenedorImagenes = document.querySelector(\"#contenedorImganes\");\r\n\r\n        agregar_notificacion.addEventListener('click',function(e){\r\n            \r\n            accionesModalNotifiacion();\r\n       \r\n        })\r\n        obtenerNotificaciones();\r\n\r\n        async function obtenerNotificaciones(){\r\n          const id = obtenerIdUrl();\r\n          const url =`http://localhost:3000/api/reparacion/notificaciones?id=${id}`;\r\n          try {\r\n              const respuesta = await fetch(url);\r\n              const resultado = await respuesta.json();\r\n\r\n              mostrarNotificaciones(resultado);\r\n          } catch (error) {\r\n              \r\n          }\r\n\r\n        }\r\n        function mostrarNotificaciones(resultado){\r\n       \r\n          \r\n          const tabla = document.querySelector('#tabla-notificaciones');\r\n          limpiarHtml(tabla)\r\n         \r\n          const tBody = document.createElement('tbody')\r\n       \r\n          let numero = 0;\r\n          resultado.forEach(infoNotificacion => {\r\n            numero++;\r\n              const {id, mensaje, imagenes} = infoNotificacion;\r\n         \r\n\r\n              const tr = document.createElement('tr');\r\n              const td = document.createElement('TD')\r\n              const div = document.createElement('DIV');\r\n              div.classList.add('row', 'd-flex', 'justify-content-between')\r\n              \r\n              const parrafo = document.createElement('P');\r\n              parrafo.classList.add('col-md-8');\r\n\r\n              parrafo.innerHTML = `<strong>Mensaje:</strong><br>${mensaje}`;\r\n              \r\n            \r\n              const carrousel = document.createElement('DIV');\r\n              carrousel.id = `carousel_${numero}`;\r\n              carrousel.classList.add('carousel', 'slide', 'float-right');\r\n          \r\n              carrousel.dataset.ride = \"carousel\";\r\n              carrousel.style.maxWidth = \"350px\"\r\n            \r\n              carrousel.style.padding = \"10px\"\r\n              \r\n\r\n              const ol = document.createElement('OL');\r\n              ol.classList.add('carousel-indicators');\r\n            \r\n              const carrouselInner = document.createElement('DIV');\r\n              carrouselInner.classList.add(\"carousel-inner\");\r\n              let i = 1;\r\n             \r\n            \r\n              imagenes.forEach(imagen => {\r\n                  if(imagen!=''){\r\n                    const li = document.createElement('LI');\r\n                    li.dataset.target = `#carousel_${numero}`\r\n                    li.dataset.slideTo = `${i}`;\r\n                \r\n                    const carrouselItem = document.createElement('DIV');\r\n       \r\n                    carrouselItem.classList.add('carousel-item');\r\n                \r\n                    const img = document.createElement('IMG');\r\n                    img.classList.add('d-block', 'w-100')\r\n                    img.src = `/img/notificaciones/${imagen}.png`;\r\n              \r\n                  \r\n                    \r\n                    if(i==1){\r\n                      li.classList.add('active');\r\n                      carrouselItem.classList.add('active');\r\n                    }\r\n                    ol.appendChild(li);\r\n                    carrouselItem.appendChild(img)\r\n                   \r\n                    carrouselInner.appendChild(carrouselItem);\r\n  \r\n                    i++;\r\n                  }\r\n           \r\n              });\r\n              \r\n             \r\n            \r\n              const prev = document.createElement('A');\r\n         \r\n              prev.classList.add('carousel-control-prev');\r\n     \r\n              prev.href = `#carousel_${numero}`;\r\n              prev.setAttribute(\"role\", \"button\");\r\n              prev.dataset.slide = \"prev\";\r\n\r\n              prev.innerHTML = `\r\n                          <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                          <span class=\"sr-only\">Previous</span>\r\n              `\r\n\r\n                \r\n              const next = document.createElement('A');\r\n         \r\n              next.classList.add('carousel-control-next');\r\n     \r\n              next.href = `#carousel_${numero}`;\r\n              next.setAttribute(\"role\", \"button\");\r\n              next.dataset.slide = \"next\";\r\n\r\n              next.innerHTML = ` \r\n                          <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                          <span class=\"sr-only\">Next</span>\r\n              `\r\n       \r\n              carrousel.appendChild(ol)\r\n              carrousel.appendChild(carrouselInner);\r\n              carrousel.appendChild(prev);\r\n              carrousel.appendChild(next);\r\n           \r\n              div.appendChild(parrafo)\r\n              div.appendChild(carrousel)\r\n              td.appendChild(div);\r\n      \r\n              tr.appendChild(td)\r\n   \r\n              tBody.appendChild(tr)\r\n              \r\n          \r\n              \r\n          });\r\n      \r\n      \r\n       \r\n          tabla.appendChild(tBody)\r\n     \r\n   \r\n      }\r\n     \r\n\r\n        imagenes.addEventListener('change',function(e){\r\n            limpiarHtml(contenedorImagenes);\r\n            const imagenes = e.target.files;\r\n\r\n            for (let i = 0; i < imagenes.length; i++) {\r\n              const file = imagenes[i];\r\n              const reader = new FileReader();\r\n              reader.onload = function (e) {\r\n                const image = document.createElement(\"img\");\r\n                image.src = e.target.result;\r\n                image.classList.add('col-md-4','mb-3');\r\n                contenedorImagenes.appendChild(image);\r\n                \r\n                return;\r\n              };\r\n          \r\n              reader.readAsDataURL(file);\r\n            }\r\n        })\r\n       \r\n        function limpiarHtml(referencia){\r\n          while(referencia.firstChild){\r\n            referencia.removeChild(referencia.firstChild)\r\n          }\r\n        }\r\n\r\n\r\n\r\n\r\n        function accionesModalNotifiacion(){\r\n            formularioNotificaciones.reset();\r\n            limpiarHtml(contenedorImagenes);\r\n            $('#modal-notificacion').modal('show');\r\n            inicializarValidadorNofiticacion();\r\n\r\n        }\r\n        function obtenerIdUrl(){\r\n         \r\n          const  url = window.location.href;\r\n          const  urlObj = new URL(url);\r\n          return  id = urlObj.searchParams.get(\"id\");\r\n      }\r\n        async function enviarDatosNotifiacion(){\r\n            const datos = new FormData();\r\n       \r\n            datos.append('mensaje', (mensaje.value).trim());\r\n            datos.append('reparacion_id', obtenerIdUrl())\r\n            const files = imagenes.files;\r\n            if(files.length>0){\r\n            \r\n              for (let i = 0; i < files.length; i++) {\r\n                datos.append(\"imagenes[]\", files[i]);\r\n              }\r\n            }else{\r\n             \r\n              datos.append(\"imagenes[]\", []);\r\n            }\r\n       \r\n            \r\n        \r\n\r\n    \r\n            btnSubmitNotificacion.disabled = true;\r\n\r\n            url = '/api/reparacion/crear-notificacion';\r\n\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n         \r\n                eliminarToastAnterior();\r\n                btnSubmitNotificacion.disabled = false;\r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n                  \r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },4000)\r\n\r\n                    formularioNotificaciones.reset();\r\n\r\n                 \r\n                    $('#modal-notificacion').modal('hide');\r\n                    obtenerNotificaciones();\r\n                }\r\n             \r\n              \r\n   \r\n            } catch (error) {  \r\n            }\r\n        }\r\n        function eliminarToastAnterior(){\r\n          if(document.querySelector('#toastsContainerTopRight')){\r\n              document.querySelector('#toastsContainerTopRight').remove()\r\n          }\r\n        }\r\n\r\n        function inicializarValidadorNofiticacion() {\r\n      \r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                        enviarDatosNotifiacion();\r\n              }\r\n            });\r\n   \r\n            \r\n             $('#notificacionForm').validate({\r\n              rules: {\r\n                mensaje: {\r\n                    required: true\r\n\r\n                }\r\n                \r\n              },\r\n              messages: {\r\n                mensaje: {\r\n                    required: \"El mensaje de la notifiacin es Obligatorio\"\r\n                }\r\n                \r\n\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#notificacionForm').on('valid', function(event) {\r\n            inicializarValidadorNofiticacion();\r\n        });\r\n    }\r\n})();\r\n\r\n","(function(){\r\n    const tablaIngresos = document.querySelector('#tabla-ingresos');\r\n    if(tablaIngresos){\r\n        let idIngreso;\r\n        const agregar_ingreso= document.querySelector('#agregar-ingreso');\r\n        const formularioIngresos = document.querySelector('#ingresoForm');\r\n        const ingreso = document.querySelector('#ingreso')\r\n        const descripcion = document.querySelector('#descripcion_ingreso');\r\n        const btnSubmitIngreso = document.querySelector('#btnSubmitIngreso')\r\n        \r\n        const totalIngresosSpan = document.querySelector('#totalIngresos');\r\n\r\n        agregar_ingreso.addEventListener('click',function(e){\r\n            \r\n            accionesModalIngreso();\r\n        })\r\n\r\n        ingreso.addEventListener('input',function(e){\r\n            const valor = formateraValorIngreso(e)\r\n            ingreso.value = valor;\r\n        })\r\n\r\n        obtenerIngresos()\r\n\r\n        function accionesModalIngreso(){\r\n            formularioIngresos.reset();\r\n            idIngreso = null;\r\n            $('#modal-ingreso').modal('show');\r\n            inicializarValidadorIngreso();\r\n\r\n        }\r\n        async function obtenerIngresos(){\r\n            \r\n            const id = obtenerIdUrl();\r\n            const url =`http://localhost:3000/api/reparacion/ingresos?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n            \r\n                mostrarIngresos(resultado);\r\n            } catch (error) {\r\n                \r\n            }\r\n\r\n        }\r\n\r\n        function mostrarIngresos(resultado){\r\n          \r\n            const tabla = document.querySelector('#tabla-ingresos');\r\n            limpiarHtml(tabla)\r\n           \r\n            const tBody = document.createElement('tbody')\r\n     \r\n            const totalIngresos = resultado.reduce(function(acumulador, infoIngreso) {\r\n                return acumulador + parseFloat(infoIngreso.ingreso)\r\n              }, 0); \r\n     \r\n            \r\n            totalIngresosSpan.textContent = totalIngresos.toLocaleString('en')\r\n      \r\n            \r\n            resultado.forEach(infoIngreso => {\r\n                 const {id, ingreso, descripcion, reparacion_id} = infoIngreso;\r\n                const tr = document.createElement('tr');\r\n\r\n                const tdValor = document.createElement('td');\r\n                tdValor.classList.add('py-2');\r\n                tdValor.style.minWidth = '130px'\r\n                tdValor.innerHTML = `Valor: $<strong>${parseFloat(ingreso).toLocaleString('en')}</strong>`\r\n            \r\n\r\n\r\n                const tdDescripcion = document.createElement('td');\r\n                tdDescripcion.classList.add('py-2');\r\n                \r\n                tdDescripcion.innerHTML = `Descripcion: <strong style=\"max-width:30px !important\">${descripcion}</strong>`\r\n\r\n                const tdOpciones = document.createElement('td');\r\n                tdOpciones.classList.add('py-2');\r\n                tdOpciones.style.minWidth = '120px'\r\n                \r\n                const btnEditar = document.createElement('BUTTON');\r\n                btnEditar.type = \"button\";\r\n                btnEditar.classList.add('btn', 'btn-sm' ,'bg-hover-azul' ,'mx-2' ,'text-white', 'toolMio')\r\n                btnEditar.innerHTML = \"<span class='toolMio-text'>Editar</span><i class='fas fa-pen'></i>\";\r\n\r\n                btnEditar.onclick = function(){\r\n                    llenarFormularioIngreso(infoIngreso)\r\n                }\r\n\r\n                const btnEliminar = document.createElement('BUTTON');\r\n                btnEliminar.type = \"button\";\r\n                btnEliminar.classList.add('btn', 'btn-sm' ,'bg-hover-azul' ,'mx-2' ,'text-white', 'toolMio')\r\n                btnEliminar.innerHTML = \"<span class='toolMio-text'>Eliminar</span><i class='fas fa-trash'></i>\";\r\n                btnEliminar.type = \"button\";\r\n                btnEliminar.onclick = function(){\r\n                    alertaEliminarIngreso(infoIngreso);\r\n                }\r\n\r\n\r\n                tdOpciones.appendChild(btnEditar)\r\n                tdOpciones.appendChild(btnEliminar)\r\n\r\n                tr.appendChild(tdValor)\r\n                tr.appendChild(tdDescripcion)\r\n                tr.appendChild(tdOpciones)\r\n     \r\n                tBody.appendChild(tr)\r\n\r\n\r\n            });\r\n          \r\n            tabla.appendChild(tBody)\r\n        }\r\n        function alertaEliminarIngreso(ingresoInfo){\r\n  \r\n            Swal.fire({\r\n                icon:'warning',\r\n                html: `<h2 class=\"\">esta seguro de eliminar el Ingreso de <span class=\"font-weight-bold\"> ${(parseFloat(ingresoInfo.ingreso)).toLocaleString('en')} </span>?</h2><br><p>Esta accin no se puede deshacer</p>`,\r\n          \r\n                showCancelButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                cancelButtonText: `Cancelar`,\r\n                \r\n\r\n            }).then(result=>{\r\n                if(result.isConfirmed){\r\n                    eliminarIngreso(ingresoInfo.id)\r\n                }\r\n            })\r\n        }\r\n        async function eliminarIngreso(id){\r\n    \r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n    \r\n            const url = '/api/reparacion/eliminar-ingreso';\r\n           \r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n          \r\n                \r\n         \r\n            \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                 \r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },8000)\r\n                    obtenerIngresos();\r\n                   \r\n             \r\n                    \r\n                }\r\n            } catch (error) { \r\n               \r\n            }\r\n        }\r\n\r\n        \r\n        function formateraValorIngreso(e){\r\n      \r\n            const valor = e.target.value;\r\n            let valor_sin_formato = parseFloat(valor.replace(/,/g, ''));\r\n            if(isNaN(valor_sin_formato)){\r\n                valor_sin_formato = '';\r\n            }\r\n            const valor_formateado =  valor_sin_formato.toLocaleString('en');\r\n            return valor_formateado ;\r\n            \r\n        }\r\n        async function enviarDatosIngreso(){\r\n            const datos = new FormData();\r\n          \r\n            datos.append('ingreso', ingreso.value);\r\n            datos.append('descripcion', (descripcion.value).trim());\r\n         \r\n            btnSubmitIngreso.disabled = true;\r\n            let url = '';\r\n            if(idIngreso){\r\n                if(idIngreso){\r\n                    datos.append('id', idIngreso)\r\n                }\r\n                url = `/api/reparacion/editar-ingreso`;\r\n               \r\n            }else{\r\n             \r\n                url = '/api/reparacion/crear-ingreso';\r\n                datos.append('reparacion_id', obtenerIdUrl());\r\n            }\r\n\r\n         \r\n          \r\n\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                \r\n             \r\n                eliminarToastAnterior();\r\n                btnSubmitIngreso.disabled = false;\r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n                  \r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },4000)\r\n\r\n                    formularioIngresos.reset();\r\n\r\n                 \r\n                    $('#modal-ingreso').modal('hide');\r\n                    obtenerIngresos();\r\n                }\r\n   \r\n            } catch (error) {  \r\n            }\r\n        }\r\n        function obtenerIdUrl(){\r\n         \r\n            const  url = window.location.href;\r\n            const  urlObj = new URL(url);\r\n            return  id = urlObj.searchParams.get(\"id\");\r\n        }\r\n        function llenarFormularioIngreso(resultado){\r\n            idIngreso = resultado.id;\r\n            $('#modal-ingreso').modal('show');\r\n            inicializarValidadorIngreso();\r\n            ingreso.value = (parseFloat(resultado.ingreso)).toLocaleString('en');\r\n            descripcion.value = resultado.descripcion;\r\n\r\n           \r\n        }\r\n\r\n        function inicializarValidadorIngreso() {\r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                        enviarDatosIngreso();\r\n              }\r\n            });\r\n   \r\n            \r\n             $('#ingresoForm').validate({\r\n              rules: {\r\n                ingreso: {\r\n                    required: true\r\n\r\n                }\r\n                \r\n              },\r\n              messages: {\r\n                ingreso: {\r\n                    required: \"El valor del Ingreso es obligatorio\"\r\n                }\r\n                \r\n\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#ingresoForm').on('valid', function(event) {\r\n            inicializarValidadorIngreso();\r\n        });\r\n\r\n        function eliminarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n\r\n        function limpiarHtml(tabla){\r\n            while(tabla.firstChild){\r\n                tabla.removeChild(tabla.firstChild)\r\n            }\r\n        }\r\n    }\r\n})();","(function(){\r\n    const reparacion = document.querySelector('#reparacion');\r\n    if(reparacion){\r\n        let idCosto;\r\n        const agregar_costo= document.querySelector('#agregar-costo');\r\n        const formularioCostos = document.querySelector('#costoForm');\r\n        const costo = document.querySelector('#costo')\r\n        const descripcion = document.querySelector('#descripcion')\r\n        const btnSubmitCosto = document.querySelector('#btnSubmitCosto')\r\n        const totalCostosSpan = document.querySelector('#totalCostos');\r\n\r\n        \r\n        agregar_costo.addEventListener('click',function(e){\r\n            \r\n            accionesModalCosto();\r\n        })\r\n        costo.addEventListener('input',function(e){\r\n            const valor = formateraValorCosto(e)\r\n            costo.value = valor;\r\n        })\r\n\r\n        obtenerCostos();\r\n\r\n        function accionesModalCosto(){\r\n            formularioCostos.reset();\r\n            idCosto = null;\r\n            $('#modal-costo').modal('show');\r\n            inicializarValidadorCosto();\r\n\r\n        }\r\n\r\n      \r\n\r\n        async function obtenerCostos(){\r\n            const id = obtenerIdUrl();\r\n            const url =`http://localhost:3000/api/reparacion/costos?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n                mostrarCostos(resultado);\r\n            } catch (error) {\r\n                \r\n            }\r\n\r\n        }\r\n\r\n\r\n        function mostrarCostos(resultado){\r\n            const tabla = document.querySelector('#tabla-costos');\r\n            limpiarHtml(tabla)\r\n           \r\n            const tBody = document.createElement('tbody')\r\n            const totalCostos = resultado.reduce(function(acumulador, infoCosto) {\r\n                return acumulador + parseFloat(infoCosto.costo)\r\n              }, 0); \r\n            totalCostosSpan.textContent = totalCostos.toLocaleString('en')\r\n     \r\n            \r\n            resultado.forEach(infoCosto => {\r\n                 const {id, costo, descripcion, reparacion_id} = infoCosto;\r\n                const tr = document.createElement('tr');\r\n\r\n                const tdValor = document.createElement('td');\r\n                tdValor.classList.add('py-2');\r\n                tdValor.style.minWidth = '130px'\r\n                tdValor.innerHTML = `Valor: $<strong>${parseFloat(costo).toLocaleString('en')}</strong>`\r\n            \r\n\r\n\r\n                const tdDescripcion = document.createElement('td');\r\n                tdDescripcion.classList.add('py-2');\r\n                \r\n                tdDescripcion.innerHTML = `Descripcion: <strong style=\"max-width:30px !important\">${descripcion}</strong>`\r\n\r\n                const tdOpciones = document.createElement('td');\r\n                tdOpciones.classList.add('py-2');\r\n                tdOpciones.style.minWidth = '120px'\r\n                \r\n                const btnEditar = document.createElement('BUTTON');\r\n                btnEditar.type = \"button\";\r\n                btnEditar.classList.add('btn', 'btn-sm' ,'bg-hover-azul' ,'mx-2' ,'text-white', 'toolMio')\r\n                btnEditar.innerHTML = \"<span class='toolMio-text'>Editar</span><i class='fas fa-pen'></i>\";\r\n\r\n                btnEditar.onclick = function(){\r\n                    llenarFormularioCosto(infoCosto)\r\n                }\r\n\r\n                const btnEliminar = document.createElement('BUTTON');\r\n                btnEliminar.type = \"button\";\r\n                btnEliminar.classList.add('btn', 'btn-sm' ,'bg-hover-azul' ,'mx-2' ,'text-white', 'toolMio')\r\n                btnEliminar.innerHTML = \"<span class='toolMio-text'>Eliminar</span><i class='fas fa-trash'></i>\";\r\n                btnEliminar.type = \"button\";\r\n                btnEliminar.onclick = function(){\r\n                    alertaEliminarCosto(infoCosto);\r\n                }\r\n\r\n\r\n                tdOpciones.appendChild(btnEditar)\r\n                tdOpciones.appendChild(btnEliminar)\r\n\r\n                tr.appendChild(tdValor)\r\n                tr.appendChild(tdDescripcion)\r\n                tr.appendChild(tdOpciones)\r\n     \r\n                \r\n\r\n                tBody.appendChild(tr)\r\n\r\n                \r\n\r\n               \r\n\r\n            });\r\n            tabla.appendChild(tBody)\r\n        }\r\n        \r\n      \r\n        function obtenerIdUrl(){\r\n         \r\n            const  url = window.location.href;\r\n            const  urlObj = new URL(url);\r\n            return  id = urlObj.searchParams.get(\"id\");\r\n        }\r\n\r\n     \r\n        function llenarFormularioCosto(resultado){\r\n            idCosto = resultado.id;\r\n            $('#modal-costo').modal('show');\r\n            inicializarValidadorCosto();\r\n            costo.value = (parseFloat(resultado.costo)).toLocaleString('en');\r\n            descripcion.value = resultado.descripcion;\r\n\r\n           \r\n        }\r\n\r\n        function formateraValorCosto(e){\r\n      \r\n            const valor = e.target.value;\r\n            let valor_sin_formato = parseFloat(valor.replace(/,/g, ''));\r\n            if(isNaN(valor_sin_formato)){\r\n                valor_sin_formato = '';\r\n            }\r\n            const valor_formateado =  valor_sin_formato.toLocaleString('en');\r\n            return valor_formateado ;\r\n            \r\n        }\r\n\r\n        \r\n        async function enviarDatosCosto(){\r\n            const datos = new FormData();\r\n          \r\n            datos.append('costo', costo.value);\r\n            datos.append('descripcion', (descripcion.value).trim());\r\n         \r\n            btnSubmitCosto.disabled = true;\r\n            let url = '';\r\n            if(idCosto){\r\n                if(idCosto){\r\n                    datos.append('id', idCosto)\r\n                }\r\n                url = `/api/reparacion/editar-costo`;\r\n               \r\n            }else{\r\n             \r\n                url = '/api/reparacion/crear-costo';\r\n                datos.append('reparacion_id', obtenerIdUrl());\r\n            }\r\n\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                \r\n          \r\n                eliminarToastAnterior();\r\n                btnSubmitCosto.disabled = false;\r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n                  \r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },4000)\r\n\r\n                    formularioCostos.reset();\r\n\r\n                 \r\n                    $('#modal-costo').modal('hide');\r\n                    obtenerCostos();\r\n                }\r\n   \r\n            } catch (error) {  \r\n            }\r\n        }\r\n\r\n        function alertaEliminarCosto(costoInfo){\r\n  \r\n            Swal.fire({\r\n                icon:'warning',\r\n                html: `<h2 class=\"\">esta seguro de eliminar el costo de <span class=\"font-weight-bold\"> ${(parseFloat(costoInfo.costo)).toLocaleString('en')} </span>?</h2><br><p>Esta accin no se puede deshacer</p>`,\r\n          \r\n                showCancelButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                cancelButtonText: `Cancelar`,\r\n                \r\n\r\n            }).then(result=>{\r\n                if(result.isConfirmed){\r\n                    eliminarCosto(costoInfo.id)\r\n                }\r\n            })\r\n        }\r\n        async function eliminarCosto(id){\r\n    \r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n    \r\n            const url = '/api/reparacion/eliminar-costo';\r\n           \r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                console.log(resultado)\r\n                \r\n                // eliminarToastAnterior();\r\n            \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                 \r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },8000)\r\n                    obtenerCostos();\r\n                    console.log('recargano')\r\n             \r\n                    \r\n                }\r\n            } catch (error) { \r\n                console.log(error) \r\n            }\r\n        }\r\n\r\n        function inicializarValidadorCosto() {\r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                        enviarDatosCosto();\r\n              }\r\n            });\r\n   \r\n            \r\n             $('#costoForm').validate({\r\n              rules: {\r\n                costo: {\r\n                    required: true\r\n\r\n                }\r\n                \r\n              },\r\n              messages: {\r\n                costo: {\r\n                    required: \"El valor del costo es obligatorio\"\r\n                }\r\n                \r\n\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#costoForm').on('valid', function(event) {\r\n            inicializarValidadorCosto();\r\n        });\r\n    }\r\n\r\n    function eliminarToastAnterior(){\r\n        if(document.querySelector('#toastsContainerTopRight')){\r\n            document.querySelector('#toastsContainerTopRight').remove()\r\n        }\r\n    }\r\n\r\n    function limpiarHtml(tabla){\r\n        while(tabla.firstChild){\r\n            tabla.removeChild(tabla.firstChild)\r\n        }\r\n    }\r\n})();","(function(){\r\n    const reparaciones = document.querySelector('#reparaciones');\r\n    if(reparaciones){\r\n        let tablaReparaciones;\r\n        const marcasArray = ['NO ESPECIFICA','SAMSUMG', 'MOTOROLA',\"NOKIA\", 'LG', 'XIAOMI', 'KRONO', 'LENOVO', 'ALCATEL','HIUNDAI', 'IPHONE', 'SENDTEL','ASUS','TOSHIBA','DELL','HP','OPPO','REALME','HONOR','POCO','VIVO','ACER','SONY','BLU','CATERPILLAR','HTC', 'INFINIX','MICROSOFT','PANASONIC','SHARP','SONY ERICSSON', 'TLC', 'ZTE', 'OTRAS']\r\n        const formulario = document.querySelector('#reparacionForm');\r\n        let id = null;\r\n        const nombre = document.querySelector('#nombre')\r\n        const direccion = document.querySelector('#direccion')\r\n        const marca = document.querySelector('#marca')\r\n        const cedula_nit = document.querySelector('#cedula_nit')\r\n        const celular = document.querySelector('#celular')\r\n        const modelo = document.querySelector('#modelo')\r\n        const imei_1 = document.querySelector('#imei_1')\r\n        \r\n        const imei_2 = document.querySelector('#imei_2')\r\n        const falla = document.querySelector('#falla')\r\n        const proceso = document.querySelector('#proceso')\r\n        const valor_convenido = document.querySelector('#valor_convenido')\r\n        const abono = document.querySelector('#abono')\r\n        const saldo = document.querySelector('#saldo')\r\n        const cargador = document.querySelector('#cargador')\r\n        const bateria = document.querySelector('#bateria')\r\n        const tapa = document.querySelector('#tapa')\r\n        const estuche = document.querySelector('#estuche')\r\n        const sim = document.querySelector('#sim')\r\n        const sd = document.querySelector('#sd')\r\n        const observacion = document.querySelector('#observacion')\r\n        const btnRegistrarReparacion = document.querySelector('#registrar');\r\n        checkOBJ  = {\r\n            cargador:false,\r\n            bateria:false,\r\n            tapa:false,\r\n            estuche:false,\r\n            SIM:false,\r\n            SD:false\r\n        }\r\n      \r\n  \r\n         mostrarReparaciones();\r\n        // verificarCargaTabla();\r\n     \r\n        btnRegistrarReparacion.addEventListener('click',function(){\r\n            abono.readOnly = false;\r\n            valor_convenido.readOnly = false;\r\n            id = null;\r\n            llenarSelect('NO ESPECIFICA');\r\n            accionesModal();\r\n        })\r\n\r\n        $('#reparaciones').on('click', '#editar',function(e){\r\n            abono.readOnly = false;\r\n            valor_convenido.readOnly = false;\r\n            id=e.currentTarget.dataset.reparacionId;\r\n         \r\n            accionesModal();\r\n             \r\n        })\r\n\r\n        $('#reparaciones').on('click', '#eliminar',function(e){\r\n          \r\n            const idReparacion = e.currentTarget.dataset.reparacionId;\r\n            alertaEliminarReparacion(idReparacion,e);\r\n             \r\n        })\r\n        $('#reparaciones').on('click', '#imprimir',function(e){\r\n          \r\n            const idReparacion = e.currentTarget.dataset.reparacionId;\r\n            imprimirReparacion(idReparacion);\r\n             \r\n        })\r\n\r\n        valor_convenido.addEventListener('input', function(e){\r\n         \r\n            valor_convenido.value =formaterValor(e);\r\n            saldo.value =formaterValor(e);\r\n            abono.value = 0;\r\n           \r\n        })\r\n        abono.addEventListener('input', function(e){\r\n            calcularDiferencia(e);\r\n            abono.value = formaterValor(e);\r\n            \r\n        })\r\n\r\n        async function imprimirReparacion(id){\r\n        \r\n            const url = `/api/factura?key=${btoa(id)}`;\r\n            try {\r\n                const respuesta = await fetch(url)\r\n                window.open(url, '_blank');\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n\r\n        function calcularDiferencia(e){\r\n            const valor_acordado = valor_convenido.value\r\n            const valor_acordado_sin_formato =  parseFloat(valor_acordado.replace(/,/g, ''));\r\n            let abono = parseFloat(e.target.value.replace(/,/g, ''));\r\n            if(abono ==''){\r\n                abono = 0;\r\n            }\r\n            const saldo_pendiente = valor_acordado_sin_formato - abono;\r\n       \r\n            console.log(valor_acordado_sin_formato)\r\n         \r\n            if(isNaN(saldo_pendiente)){\r\n                saldo_pendiente = '';\r\n            }\r\n            const valor_formateado =  saldo_pendiente.toLocaleString('en');\r\n            saldo.value = valor_formateado;\r\n            \r\n        }\r\n\r\n        function formaterValor(e){\r\n            const valor = e.target.value;\r\n            let valor_sin_formato = parseFloat(valor.replace(/,/g, ''));\r\n            if(isNaN(valor_sin_formato)){\r\n                valor_sin_formato = '';\r\n            }\r\n            const valor_formateado =  valor_sin_formato.toLocaleString('en');\r\n            return valor_formateado ;\r\n            \r\n        }\r\n\r\n\r\n       \r\n        \r\n        function alertaEliminarReparacion(id, e){\r\n  \r\n            const cliente = e.currentTarget.parentElement.parentElement.parentElement.childNodes[1].textContent;\r\n            \r\n            Swal.fire({\r\n                icon:'warning',\r\n                html: `<h2 class=\"\">esta seguro de Cancelar la reparacin del cliente <span class=\"font-weight-bold\"> ${cliente} </span>?</h2><br><p>Esta accin no se puede deshacer</p>`,\r\n          \r\n                showCancelButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                cancelButtonText: `Cancelar`,\r\n                \r\n\r\n            }).then(result=>{\r\n                if(result.isConfirmed){\r\n                    eliminarReparacion(id)\r\n                }\r\n            })\r\n        }\r\n        async function eliminarReparacion(id){\r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n    \r\n            //url = 'http://localhost:3000/reparacion/eliminar';s\r\n            const url = '/api/reparacion/eliminar'\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                \r\n                eliminarToastAnterior();\r\n            \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },8000)\r\n\r\n                 \r\n                    tablaReparaciones.ajax.reload(); \r\n                }\r\n            } catch (error) { \r\n                $(document).Toasts('create', {\r\n                    class: 'bg-danger',\r\n                    title: 'Error',\r\n                 \r\n                    body: 'No es Posible eliminar La reparacion porque tiene gastos y/o ingrseso asociados'\r\n                  })\r\n\r\n                setTimeout(()=>{\r\n                    eliminarToastAnterior();\r\n                },8000)\r\n            }\r\n        }\r\n        function mostrarReparaciones(){\r\n \r\n            $(\"#tabla\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaReparaciones = $('#tabla').DataTable({\r\n                ajax: '/api/reparaciones',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true,\r\n                initComplete: function () {\r\n                    // Inicializa los botones despus de que la tabla se haya creado\r\n                    var buttons = new $.fn.dataTable.Buttons(tablaReparaciones, {\r\n                        buttons: [\"copy\", \"csv\", \"excel\", \"pdf\", \"print\"]\r\n                    }).container().appendTo('#tabla_wrapper .col-md-6:eq(0)');\r\n                }\r\n            });\r\n            \r\n            // $.ajax({\r\n            //     url:'/api/reparaciones',\r\n            //     dataType:'json',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.resposeText)\r\n            //     }\r\n            // })\r\n       \r\n        }  \r\n        \r\n\r\n        function accionesModal(){\r\n      \r\n            formulario.reset();\r\n            btnSubmit.disabled = false;\r\n            $('#modal-reparacion').modal('show');\r\n       \r\n           \r\n            \r\n            \r\n            inicializarValidador();\r\n            if(id){\r\n             \r\n                consultarReparacion();\r\n            }\r\n        }\r\n\r\n        async function  consultarReparacion(){\r\n        \r\n            try {\r\n                const respuesta = await fetch(`/api/reparacion?id=${id}`);\r\n                const resultado = await respuesta.json();\r\n               \r\n             \r\n                llenarFormulario(resultado);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        function llenarFormulario(resultado){\r\n            const accesorios = JSON.parse(resultado.accesorios);\r\n            nombre.value = resultado.nombre;\r\n            cedula_nit.value = resultado.cedula_nit;\r\n            celular.value = resultado.celular;\r\n            direccion.value = resultado.direccion;\r\n        \r\n            llenarSelect( resultado.marca);\r\n            \r\n            modelo.value = resultado.modelo;\r\n            imei_1.value = resultado.imei_1;\r\n            imei_2.value = resultado.imei_2;\r\n            falla.value = resultado.falla;\r\n            proceso.value = resultado.proceso;\r\n            valor_convenido.value = (parseFloat(resultado.valor_convenido)).toLocaleString('en')\r\n            abono.value = (parseFloat(resultado.abono)).toLocaleString('en')\r\n            saldo.value = (parseFloat(resultado.saldo)).toLocaleString('en')\r\n            if(resultado.estado!=0){\r\n                abono.readOnly = true;\r\n                valor_convenido.readOnly = true;\r\n\r\n            }\r\n            if(accesorios.cargador==true){\r\n                cargador.checked = true;\r\n            }\r\n            if(accesorios.bateria==true){\r\n                bateria.checked = true;\r\n            }\r\n            if(accesorios.estuche==true){\r\n                estuche.checked = true;\r\n            }\r\n            if(accesorios.tapa==true){\r\n                tapa.checked = true;\r\n            }\r\n            if(accesorios.sim==true){\r\n                sim.checked = true;\r\n            }\r\n          \r\n            if(accesorios.sd==true){\r\n                sd.checked = true;\r\n            }\r\n            observacion.value = resultado.observacion\r\n          \r\n           \r\n        }\r\n         \r\n\r\n        async function enviarDatos(){\r\n            const datos = new FormData();\r\n            if(id){\r\n                datos.append('id', id)\r\n            }\r\n            datos.append('nombre', (nombre.value).trim());\r\n            datos.append('cedula_nit', (cedula_nit.value).trim());\r\n            datos.append('celular', celular.value);\r\n            datos.append('direccion', (direccion.value).trim());\r\n            datos.append('marca', marca.value);\r\n            datos.append('modelo', (modelo.value).trim());\r\n            datos.append('imei_1', (imei_1.value).trim());\r\n            datos.append('imei_2', (imei_2.value).trim());\r\n            datos.append('falla', (falla.value).trim());\r\n            datos.append('proceso', (proceso.value).trim());\r\n            datos.append('valor_convenido', valor_convenido.value);\r\n            datos.append('abono', abono.value);\r\n            datos.append('saldo', saldo.value);\r\n            datos.append('observacion', (observacion.value).trim());\r\n\r\n            datos.append('accesorios',formatearCheckBox() );\r\n         \r\n\r\n            btnSubmit.disabled = true;\r\n            let url = '';\r\n            if(id){\r\n      \r\n                url = `/api/reparacion/editar`;\r\n            }else{\r\n                console.log('creando');\r\n                url = '/api/reparacion/crear';\r\n            }\r\n            \r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n          \r\n                eliminarToastAnterior();\r\n                btnSubmit.disabled = false;\r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n                    tablaReparaciones.ajax.reload()\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },4000)\r\n\r\n                    formulario.reset();\r\n\r\n                 \r\n                    $('#modal-reparacion').modal('hide');\r\n                    //tablaReparaciones.ajax.reload(); \r\n                }\r\n   \r\n            } catch (error) {  \r\n            }\r\n        }\r\n\r\n        function formatearCheckBox(){\r\n            checkOBJ.cargador = cargador.checked;\r\n            checkOBJ.tapa = tapa.checked;\r\n            \r\n            checkOBJ.bateria = bateria.checked;\r\n            checkOBJ.estuche= estuche.checked;\r\n            checkOBJ.sim= sim.checked;\r\n            checkOBJ.sd = sd.checked;\r\n\r\n            const jsonString =  JSON.stringify(checkOBJ)\r\n            return  jsonString.replace(/\\\\/g, '');\r\n            \r\n        }\r\n\r\n        function eliminarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n\r\n        function inicializarValidador() {\r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                        enviarDatos();\r\n              }\r\n            });\r\n   \r\n            \r\n             $('#reparacionForm').validate({\r\n              rules: {\r\n                nombre: {\r\n                    required: true\r\n                },\r\n                cedula_nit:{\r\n                    required: true\r\n                },\r\n                celular:{\r\n                    required: true,\r\n                    digits:true,\r\n                    minlength:10,\r\n                    maxlength:10\r\n                },\r\n                valor_convenido:{\r\n                    required: true\r\n\r\n                }\r\n              },\r\n              messages: {\r\n                nombre: {\r\n                    required: \"El nombre de la categora es obligatorio\"\r\n                },\r\n                cedula_nit:{\r\n                    required: 'El Nmero de identificacin es obligatorio'\r\n                },\r\n                celular:{\r\n                    required: 'El Celular de contacto es obligatorio',\r\n                    digits:'El nmero de celular solo puede contener nmeros',\r\n                    minlength:'El nmero de celular debe de ser de 10 digitos',\r\n                    maxlength:'El nmero de celular debe de ser de 10 digitos'\r\n                },\r\n                valor_convenido:{\r\n                    required: 'El valor convenido es obligatorio'\r\n\r\n                }\r\n                \r\n\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#reparacionForm').on('valid', function(event) {\r\n            inicializarValidador();\r\n        });\r\n        function llenarSelect(optionSeleccionado){\r\n   \r\n          \r\n            while(marca.firstChild){\r\n                marca.removeChild(marca.firstChild)\r\n            }\r\n       \r\n            marcasArray.forEach(marcaCelular => {\r\n           \r\n                const opcion =   document.createElement('OPTION');\r\n                opcion.value = marcaCelular;\r\n                opcion.textContent = marcaCelular;\r\n                if(marcaCelular == optionSeleccionado){\r\n               \r\n                    opcion.selected = true;\r\n                }\r\n               \r\n        \r\n                marca.appendChild(opcion)\r\n            });\r\n        }\r\n        $('.select2').select2()\r\n        $('.select2bs4').select2({\r\n            theme: 'bootstrap4'\r\n        })\r\n    \r\n    }\r\n\r\n  \r\n})();"]}